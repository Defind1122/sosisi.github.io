(this.webpackJsonp=this.webpackJsonp||[]).push([[8],{741:function(e,t,r){"use strict";var n=r(9),a=r.n(n),o=r(10),l=r.n(o),c=r(0),i=r.n(c),s=r(4),m=r(29),u=r(42),d=r(738);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){var t=Object(u.a)().backgroundLight,r=Object(d.a)().border;return i.a.createElement(s.a,a()({},e,{style:[b(b({},r({color:t})),{},{backgroundColor:t,marginTop:m.f.normal+m.f.small,padding:m.f.small+m.f.tiny}),e.style]}))}},742:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(4),l=r(29),c=r(738),i=r(300),s=r(70);t.a=function(e){var t=(0,Object(c.a)().border)({color:e.color}),r=e.color||t.borderColor;return a.a.createElement(o.a,{style:[e.clear?{paddingHorizontal:l.f.tiny}:t,e.style]},a.a.createElement(s.a,{note:!0,style:{color:r}},e.text),e.buttonText&&e.onPressButton&&a.a.createElement(i.a,{title:e.buttonText,type:"clear",size:"small",fontWeight:"bold",onPress:e.onPressButton,titleStyle:{color:r},buttonStyle:{paddingHorizontal:0,paddingVertical:0},style:{alignSelf:"flex-end",marginTop:l.f.tiny}}))}},757:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(4),l=r(29),c=r(42);t.a=function(){var e=Object(c.a)().border;return a.a.createElement(o.a,{style:{height:1,width:"100%",backgroundColor:e,marginTop:l.f.small,marginBottom:l.f.small+l.f.tiny}})}},758:function(e,t,r){"use strict";var n=r(126),a=r.n(n),o={};t.a=function(e,t,r){var n=e.toString();a()((function(){var r=setTimeout(e,t);return o[n]=r,r}),(function(e){clearTimeout(e)}),r)}},762:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(30),l=r(70);t.a=function(e){return a.a.createElement(l.a,{caption:!0,disabled:e.disabled,style:e.style},Object(o.c)(e.amount||e.token.balance,e.token.decimals,8))}},763:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(29),l=r(70);t.a=function(e){return a.a.createElement(l.a,{medium:!0,caption:!0,disabled:e.disabled,style:{marginLeft:o.f.tiny}},o.d?e.token.symbol:"")}},768:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(300);t.a=function(e){var t=e.state;return a.a.createElement(o.a,{title:t.fromSymbol+"-"+t.toSymbol+" Not Supported",disabled:!0})}},769:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(4),l=r(29),c=r(740),i=r(742);t.a=function(e){var t=Object(c.a)(e.contractURL,"","_blank");return a.a.createElement(o.a,{style:{marginVertical:l.f.tiny}},a.a.createElement(i.a,{text:"This feature is in beta and contracts are unaudited. Read the contract yourself and use it at your own risk.",color:"orange",buttonText:"View Contract",onPressButton:t}))}},771:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=r(19),l=r.n(o),c=r(0),i=r.n(c),s=r(193),m=r(4),u=r(28),d=r(29),f=r(88),b=r(758),p=r(753),y=r(107),O=r(744),E=r(755),k=r(746),T=r(70),j=r(762),S=r(749),g=function(e){return i.a.createElement(T.a,{caption:!0,numberOfLines:1,ellipsizeMode:"tail",style:{marginLeft:d.f.small,width:180},disabled:e.disabled},d.d?e.token.name:e.token.symbol)},v=r(10),x=r.n(v),h=r(81),w=r(42),P=r(738),A=r(307),C=r(300),H=r(756);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){x()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=function(){return i.a.createElement(h.a,{size:"small",style:{position:"absolute",right:16,bottom:16}})},L=function(e){var t=Object(w.a)().accent,r=Object(c.useCallback)((function(){e.onSelectToken(e.token)}),[e.onSelectToken,e.token]);return i.a.createElement(k.a,{selected:!1,disabled:!0,onPress:r,style:{marginBottom:O.a}},i.a.createElement(y.a,{style:{alignItems:"center"}},i.a.createElement(S.a,{token:e.token}),i.a.createElement(g,{token:e.token}),i.a.createElement(m.a,{style:{flex:1}}),i.a.createElement(C.a,{type:"clear",size:"small",color:t,title:e.duplicate?"Already Added":"ADD "+e.token.symbol,fontWeight:"bold",onPress:r,disabled:e.duplicate,buttonStyle:{paddingHorizontal:4,height:27}})))},I=function(e){var t=Object(P.a)().border,r=Object(c.useContext)(f.a),n=r.provider,o=r.signer,s=r.tokens,p=Object(c.useState)(),O=l()(p,2),E=O[0],k=O[1],T=Object(c.useState)(!1),j=l()(T,2),S=j[0],g=j[1],v=!!E&&-1!==s.findIndex((function(e){return e.address===E.address}));return e.tokens?(Object(c.useEffect)((function(){""===e.text&&(g(!1),k(void 0))}),[e.text]),Object(b.a)((function(){var t,r;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=e.text.trim(),!(n&&o&&u.ethers.utils.isAddress(t))){l.next=11;break}return g(!0),l.prev=3,l.next=6,a.a.awrap(Object(A.g)(n,t));case 6:(r=l.sent).name&&r.symbol&&r.decimals&&k(r);case 8:return l.prev=8,g(!1),l.finish(8);case 11:case"end":return l.stop()}}),null,null,[[3,,8,11]],Promise)}),300,[n,o,e.text]),i.a.createElement(m.a,null,i.a.createElement(y.a,{style:{marginBottom:d.f.small}},i.a.createElement(H.a,{value:e.text,onChangeText:e.onChangeText,placeholder:"Token name, symbol or address",autoFocus:!0,inputStyle:{marginHorizontal:d.f.tiny,fontSize:e.text?20:16},inputContainerStyle:{borderBottomWidth:0,marginRight:S?32:0},labelStyle:{height:0},containerStyle:D(D({},t()),{},{paddingHorizontal:d.f.tiny,paddingTop:12,paddingBottom:0})}),e.onAddToken&&S&&i.a.createElement(B,null)),e.onAddToken&&E&&i.a.createElement(L,{token:E,selected:!0,onSelectToken:e.onAddToken,duplicate:v}))):i.a.createElement(m.a,null)},z=r(763),W=function(e){var t=Object(c.useContext)(f.a),r=t.loadingTokens,n=t.tokens,a=Object(c.useCallback)((function(t){var r=t.item;return i.a.createElement(M,{key:r.address,token:r,selected:!1,onSelectToken:e.onSelectToken,disabled:null==e.disabled?void 0:e.disabled(r)})}),[e.onSelectToken,e.disabled]),o=Object(c.useMemo)((function(){return n.filter((function(t){return!e.hidden||!e.hidden(t)})).sort((function(e,t){return(t.balance.isZero()?0:1e10)-(e.balance.isZero()?0:1e10)+e.symbol.localeCompare(t.symbol)}))}),[n,e.hidden]);return r?i.a.createElement(E.a,null):0===o.length?i.a.createElement(R,null):i.a.createElement(s.a,{keyExtractor:function(e){return e.address},data:o,renderItem:a})},R=function(){return i.a.createElement(m.a,{style:{margin:d.f.normal}},i.a.createElement(T.a,{disabled:!0,style:{textAlign:"center",width:"100%"}},"You don't have any matching tokens."))},M=function(e){var t=Object(c.useCallback)((function(){e.onSelectToken(e.token)}),[e.onSelectToken,e.token]);return i.a.createElement(k.a,{selected:e.selected,onPress:t,disabled:e.disabled||e.selectable,style:{marginBottom:O.a}},i.a.createElement(y.a,{style:{alignItems:"center"}},i.a.createElement(S.a,{token:e.token,disabled:e.disabled}),i.a.createElement(g,{token:e.token,disabled:e.disabled}),i.a.createElement(j.a,{token:e.token,disabled:e.disabled,style:{flex:1,textAlign:"right"}}),i.a.createElement(z.a,{token:e.token,disabled:e.disabled})))};t.a=function(e){var t=Object(c.useContext)(f.a),r=t.tokens,n=t.addCustomToken,o=Object(c.useState)(""),s=l()(o,2),d=s[0],y=s[1],O=Object(c.useState)(""),E=l()(O,2),k=E[0],T=E[1],j=Object(c.useMemo)((function(){return r.find((function(t){return t.symbol===e.symbol}))}),[r,e.symbol]);return Object(c.useEffect)((function(){return y("")}),[e.symbol]),Object(b.a)((function(){return T(d.trim().toLowerCase())}),300,[d]),i.a.createElement(m.a,{style:e.style},i.a.createElement(p.a,{title:e.title,expanded:!e.symbol,onExpand:function(){return e.onChangeSymbol("")}},i.a.createElement(I,{text:d,onChangeText:y,tokens:r,onAddToken:function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(n(e));case 2:y(""),T("");case 4:case"end":return t.stop()}}),null,null,null,Promise)}}),i.a.createElement(W,{disabled:e.disabled,hidden:function(t){var r=(null==e.hidden?void 0:e.hidden(t))||!1;return!r&&k.length>0&&!u.ethers.utils.isAddress(k)&&(r=!t.symbol.toLowerCase().includes(k)&&!t.name.toLowerCase().includes(k)),r},onSelectToken:function(t){return e.onChangeSymbol(t.symbol)}})),j&&i.a.createElement(M,{token:j,selected:!0,onSelectToken:function(){return e.onChangeSymbol("")},selectable:!0}))}},915:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r.n(n),o=r(19),l=r.n(o),c=r(10),i=r.n(c),s=r(0),m=r.n(s),u=r(11),d=r(4),f=r(28),b=r(126),p=r.n(b),y=r(754),O=r(757),E=r(300),k=r(302),T=r(303),j=r(743),S=r(753),g=r(769),v=r(747),x=r(739),h=r(741),w=r(748),P=r(744),A=r(750),C=r(742),H=r(746),F=r(70),D=r(305),B=r(751),L=r(771),I=r(768),z=r(745),W=r(306),R=r(47),M=r(29),N=r(308),U=r(88),Z=r(42),V=r(758),J=r(740),G=r(342),K=r(30),Y=r(760),_=r(301),q=r(761);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $=function(){var e=Object(q.a)(),t=Object(s.useContext)(U.a),r=t.provider,n=t.signer,o=t.kovanSigner,c=t.updateTokens,i=Object(_.b)(),m=i.getTrade,u=i.swap,d=i.createOrder,b=i.calculateSwapFee,y=i.calculateLimitOrderFee,O=i.calculateLimitOrderReturn,E=Object(s.useState)(!0),k=l()(E,2),T=k[0],j=k[1],S=Object(s.useState)(),g=l()(S,2),v=g[0],x=g[1],h=Object(s.useState)(),w=l()(h,2),P=w[0],A=w[1],C=Object(s.useState)(),H=l()(C,2),F=H[0],D=H[1],B=Object(s.useState)(!1),L=l()(B,2),I=L[0],z=L[1],W=Object(s.useState)(""),R=l()(W,2),Z=R[0],J=R[1],Q=Object(s.useState)(""),$=l()(Q,2),ee=$[0],te=$[1],re=Object(s.useState)(""),ne=l()(re,2),ae=ne[0],oe=ne[1],le=Object(s.useState)(""),ce=l()(le,2),ie=ce[0],se=ce[1],me=Object(s.useState)(""),ue=l()(me,2),de=ue[0],fe=ue[1],be=Object(s.useState)(!1),pe=l()(be,2),ye=pe[0],Oe=pe[1],Ee=Object(s.useState)(!1),ke=l()(Ee,2),Te=ke[0],je=ke[1];Object(s.useEffect)((function(){v||e.setFromSymbol(""),te("")}),[v]),p()((function(){var t,n,o,l,c;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(A(void 0),!r||!e.fromToken){i.next=22;break}if("WETH"!==e.fromToken.symbol){i.next=6;break}A(f.ethers.constants.WeiPerEther),i.next=22;break;case 6:return i.next=8,a.a.awrap(r.getNetwork());case 8:return t=i.sent,n=t.chainId,i.prev=10,o=new G.c(n,e.fromToken.address,e.fromToken.decimals),l=G.d[n],i.next=15,a.a.awrap(G.b.fetchPairData(o,l));case 15:c=i.sent,A(Object(K.f)(c.priceOf(l).toFixed(),o.decimals)),i.next=22;break;case 19:i.prev=19,i.t0=i.catch(10),A(null);case 22:case"end":return i.stop()}}),null,null,[[10,19]],Promise)}),[r,e.fromToken]),Object(V.a)((function(){Object(K.e)(e.fromAmount)&&(te(""),D(void 0))}),300,[e.fromAmount]),Object(Y.a)((function(t){var r;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t||j(!0),!(e.fromToken&&e.toToken&&e.fromAmount&&(null==n?void 0:n.provider))){o.next=19;break}if((r=Object(K.f)(e.fromAmount,e.fromToken.decimals)).isZero()){o.next=19;break}return z(!1),o.prev=5,o.t0=D,o.next=9,a.a.awrap(m(e.fromToken,e.toToken,r,null==n?void 0:n.provider));case 9:o.t1=o.sent,(0,o.t0)(o.t1),o.next=16;break;case 13:o.prev=13,o.t2=o.catch(5),z(!0);case 16:return o.prev=16,j(!1),o.finish(16);case 19:case"end":return o.stop()}}),null,null,[[5,13,16,19]],Promise)}),(function(){return"getTrade("+e.fromSymbol+","+e.toSymbol+","+e.fromAmount+")"}),[e.fromSymbol,e.toSymbol,e.fromAmount]),p()((function(){if(F&&!Object(K.e)(e.fromAmount)){var t=Object(K.f)(e.fromAmount,e.fromToken.decimals);J(Object(K.c)(b(t),e.fromToken.decimals,8)),"limit"===v&&(oe(Object(K.c)(y(t),e.fromToken.decimals,8)),se(Object(K.c)(b(t.sub(y(t))),e.fromToken.decimals,8)))}}),[v,F,e.fromAmount]),p()((function(){e.fromToken&&e.toToken&&!Object(K.e)(e.fromAmount)&&!Object(K.e)(ee)&&fe(Object(K.c)(O(e.fromToken,e.toToken,Object(K.f)(e.fromAmount,e.fromToken.decimals),ee),e.toToken.decimals,M.d?18:8))}),[e.fromToken,e.toToken,e.fromAmount,ee]);var Se=Object(s.useCallback)((function(){var t;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e.fromToken&&e.toToken&&e.fromAmount&&n&&F)){r.next=16;break}return Oe(!0),r.prev=2,r.next=5,a.a.awrap(u(F,n));case 5:if(!(t=r.sent)){r.next=13;break}return r.next=9,a.a.awrap(t.tx.wait());case 9:return r.next=11,a.a.awrap(c());case 11:D(void 0),x(void 0);case 13:return r.prev=13,Oe(!1),r.finish(13);case 16:case"end":return r.stop()}}),null,null,[[2,,13,16]],Promise)}),[e.fromToken,e.toToken,e.fromAmount,n,F]),ge=Object(s.useCallback)((function(){var t,r;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(!(e.fromToken&&e.toToken&&e.fromAmount&&!Object(K.e)(ee)&&n&&o)){l.next=14;break}return je(!0),l.prev=2,t=Object(K.f)(e.fromAmount,e.fromToken.decimals),l.next=6,a.a.awrap(d(e.fromToken,e.toToken,t,N.a.parse(ee).apply(t).mul(Object(K.h)(e.toToken.decimals)).div(Object(K.h)(e.fromToken.decimals)),n,o));case 6:return r=l.sent,l.next=9,a.a.awrap(r.wait());case 9:D(void 0),x(void 0);case 11:return l.prev=11,je(!1),l.finish(11);case 14:case"end":return l.stop()}}),null,null,[[2,,11,14]],Promise)}),[e.fromToken,e.toToken,e.fromAmount,n,o,ee]);return X(X({},e),{},{loading:T||e.loading,orderType:v,setOrderType:x,priceInETH:P,trade:F,unsupported:I,swapFee:Z,limitOrderPrice:ee,setLimitOrderPrice:te,limitOrderFee:ae,limitOrderSwapFee:ie,limitOrderReturn:de,onSwap:Se,swapping:ye,limitOrderUnsupported:"limit"===v&&("ETH"===e.fromSymbol||"ETH"===e.toSymbol),onCreateOrder:ge,creatingOrder:Te})},ee=r(304);function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne=function(){var e=$();return m.a.createElement(d.a,{style:{marginTop:M.f.large}},m.a.createElement(ae,{state:e}),m.a.createElement(O.a,null),m.a.createElement(le,{state:e}),m.a.createElement(O.a,null),m.a.createElement(ce,{state:e}),m.a.createElement(O.a,null),m.a.createElement(ie,{state:e}),"limit"===e.orderType&&m.a.createElement(d.a,null,m.a.createElement(se,{state:e}),m.a.createElement(O.a,null),m.a.createElement(me,{state:e})),m.a.createElement(de,{state:e}))},ae=function(e){var t=e.state;return m.a.createElement(d.a,null,m.a.createElement(S.a,{title:"Order Type",expanded:!t.orderType,onExpand:function(){return t.setOrderType()}},m.a.createElement(oe,{state:t,orderType:"market"}),m.a.createElement(oe,{state:t,orderType:"limit"})),t.orderType&&m.a.createElement(oe,{state:t,orderType:t.orderType,selectable:!0}),"limit"===t.orderType&&m.a.createElement(g.a,{contractURL:"https://github.com/sushiswap/sushiswap-settlement/blob/master/contracts/Settlement.sol"}))},oe=function(e){var t=e.state,r=e.orderType,n=e.selectable,a=t.orderType===r,o="market"===r?"Market Order":"Limit Order",l="market"===r?"Settle an order immediately":"Place an order with a desired price to be settled";return m.a.createElement(H.a,{style:{marginBottom:P.a,paddingHorizontal:M.f.small+M.f.tiny},selected:a,disabled:n,onPress:function(){return t.setOrderType(t.orderType===r?void 0:r)}},m.a.createElement(F.a,{fontWeight:"regular"},o),m.a.createElement(F.a,{note:!0},l))},le=function(e){var t=e.state,r=Object(s.useContext)(U.a),n=r.tokens,a=r.customTokens;if(!t.orderType)return m.a.createElement(x.a,{text:"Token To Sell",disabled:!0});var o=n?n.find((function(e){return"ETH"===e.symbol})):null;return m.a.createElement(d.a,null,m.a.createElement(L.a,{title:"Token To Sell",symbol:t.fromSymbol,onChangeSymbol:t.setFromSymbol,hidden:function(e){return!a.find((function(t){return t.address===e.address}))&&e.balance.isZero()||"limit"===t.orderType&&"ETH"===e.symbol}}),"limit"===t.orderType&&!t.fromSymbol&&o&&!o.balance.isZero()&&m.a.createElement(ue,null))},ce=function(e){var t=e.state;return t.orderType&&t.fromSymbol?m.a.createElement(d.a,null,m.a.createElement(L.a,{title:"Token To Buy",symbol:t.toSymbol,onChangeSymbol:t.setToSymbol,hidden:function(e){return e.symbol===t.fromSymbol||"limit"===t.orderType&&"ETH"===e.symbol}}),"limit"===t.orderType&&!t.toSymbol&&m.a.createElement(ue,null)):m.a.createElement(x.a,{text:"Token To Buy",disabled:!0})},ie=function(e){var t=e.state;return t.fromSymbol&&t.toSymbol?m.a.createElement(d.a,null,m.a.createElement(x.a,{text:t.fromSymbol+" Amount"}),m.a.createElement(B.a,{token:t.fromToken,amount:t.fromAmount,onAmountChanged:t.setFromAmount,autoFocus:!0})):m.a.createElement(x.a,{text:"Amount",disabled:!0})},se=function(e){var t=e.state;return void 0===t.priceInETH||Object(K.e)(t.fromAmount)||!t.fromToken||t.priceInETH&&Object(K.f)(t.fromAmount,t.fromToken.decimals).lte(t.priceInETH.mul(10))?m.a.createElement(d.a,null):m.a.createElement(d.a,{style:{marginTop:M.f.small}},m.a.createElement(C.a,{text:null===t.priceInETH?"This token is not supported in beta.":"Maximum allowed amount in beta is "+Object(K.c)(t.priceInETH.mul(10),t.fromToken.decimals)+" "+t.fromSymbol+" (\u2248 10 ETH).",color:"red"}))},me=function(e){var t=e.state;if(!t.fromSymbol||!t.toSymbol)return m.a.createElement(x.a,{text:"Minimum Price",disabled:!0});var r=t.toToken&&t.trade?Object(K.f)(t.trade.executionPrice.toFixed(t.toToken.decimals),t.toToken.decimals):f.ethers.constants.Zero;return m.a.createElement(B.a,{title:"Minimum Price ("+t.toSymbol+"/"+t.fromSymbol+")",token:re(re({},t.toToken),{},{balance:r}),amount:t.limitOrderPrice,onAmountChanged:t.setLimitOrderPrice,maxButtonText:"MARKET"})},ue=function(){var e=Object(Z.a)().placeholder;return m.a.createElement(C.a,{text:"\u26a0\ufe0f ETH not supported for limit orders. Use WETH instead.",color:e,clear:!0,style:{marginVertical:M.f.small}})},de=function(e){var t=e.state;if("ETH"===t.fromSymbol&&"WETH"===t.toSymbol||"WETH"===t.fromSymbol&&"ETH"===t.toSymbol)return m.a.createElement(fe,{state:t});var r=""===t.fromSymbol||""===t.toSymbol||Object(K.e)(t.fromAmount)||"limit"===t.orderType&&"ETH"===t.fromSymbol;return m.a.createElement(h.a,null,"limit"===t.orderType?m.a.createElement(ke,{state:t}):m.a.createElement(be,{state:t,disabled:r}))},fe=function(e){var t=e.state,r=Object(K.e)(t.fromAmount);return m.a.createElement(h.a,null,m.a.createElement(F.a,{style:{fontSize:28,marginBottom:M.f.normal},disabled:r},r?"N/A":t.fromAmount+" "+t.toSymbol),m.a.createElement(pe,{state:t}))},be=function(e){var t,r,n,a,o,l,c=e.state,i=e.disabled,s=Object(Z.a)(),u=s.textDark,f=s.textLight,b=s.placeholder,p=null==(t=c.trade)||null==(r=t.outputAmount)?void 0:r.toFixed(M.d?18:8),y=null==(n=c.trade)||null==(a=n.executionPrice)?void 0:a.toFixed(M.d?18:8),O=null==(o=c.trade)||null==(l=o.priceImpact)?void 0:l.toFixed(2);return m.a.createElement(d.a,null,m.a.createElement(F.a,{style:{fontSize:28,marginBottom:M.f.normal,color:i?b:p?u:f}},i?"N/A":p?p+" "+c.toSymbol:"Fetching\u2026"),m.a.createElement(A.a,{label:"Price",text:y,suffix:c.toSymbol+"  = 1 "+c.fromSymbol,disabled:i}),m.a.createElement(A.a,{label:"Price Impact",text:O,suffix:"%",disabled:i}),m.a.createElement(A.a,{label:"Fee (0.30%)",text:c.swapFee,suffix:c.fromSymbol,disabled:i}),m.a.createElement(pe,{state:c}))},pe=function(e){var t=e.state,r=Object(s.useState)({}),n=l()(r,2),a=n[0],o=n[1];p()((function(){return o({})}),[t.fromSymbol,t.toSymbol,t.fromAmount]);var c="ETH"!==t.fromSymbol&&!t.fromTokenAllowed;return m.a.createElement(d.a,{style:{marginTop:M.f.normal}},t.fromToken&&t.toToken&&!Object(K.e)(t.fromAmount)?Object(K.f)(t.fromAmount,t.fromToken.decimals).gt(t.fromToken.balance)?m.a.createElement(w.a,{symbol:t.fromSymbol}):"WETH"===t.fromSymbol&&"ETH"===t.toSymbol?m.a.createElement(Ee,{state:t,onError:o}):"ETH"===t.fromSymbol&&"WETH"===t.toSymbol?m.a.createElement(Oe,{state:t,onError:o}):t.unsupported?m.a.createElement(I.a,{state:t}):t.loading||!t.trade?m.a.createElement(v.a,null):m.a.createElement(m.a.Fragment,null,m.a.createElement(y.a,{token:t.fromToken,spender:R.e,onSuccess:function(){return t.setFromTokenAllowed(!0)},onError:o,hidden:!c}),m.a.createElement(ye,{state:t,onError:o,disabled:c})):m.a.createElement(ye,{state:t,onError:o,disabled:!0}),a.message&&4001!==a.code&&m.a.createElement(j.a,{error:a}))},ye=function(e){var t=e.state,r=e.onError,n=e.disabled,a=Object(s.useCallback)((function(){r({}),t.onSwap().catch(r)}),[t.onSwap,r]);return m.a.createElement(E.a,{title:t.fromSymbol&&t.toSymbol?"Swap "+t.fromSymbol+"-"+t.toSymbol:"Swap",disabled:n,loading:t.swapping,onPress:a})},Oe=function(e){var t=e.state,r=e.onError,n=Object(s.useCallback)((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:r({}),t.onWrap().catch(r);case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[]);return m.a.createElement(E.a,{title:"Wrap",loading:t.wrapping,onPress:n})},Ee=function(e){var t=e.state,r=e.onError,n=Object(s.useCallback)((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:r({}),t.onUnwrap().catch(r);case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[]);return m.a.createElement(E.a,{title:"Unwrap",loading:t.unwrapping,onPress:n})},ke=function(e){var t,r,n,a=e.state,o=!(null==(t=a.trade)?void 0:t.executionPrice);return m.a.createElement(d.a,null,m.a.createElement(F.a,{disabled:Object(K.e)(a.limitOrderReturn),style:{fontSize:28,marginBottom:M.f.normal}},Object(K.e)(a.limitOrderReturn)?"N/A":a.limitOrderReturn+" "+a.toSymbol),m.a.createElement(A.a,{label:"Market Price",text:(null==(r=a.trade)||null==(n=r.executionPrice)?void 0:n.toFixed(8))||void 0,suffix:a.toSymbol+" / "+a.fromSymbol,disabled:o}),m.a.createElement(A.a,{label:"Relayer Fee (0.20%)",text:a.limitOrderFee,suffix:a.fromSymbol,disabled:o}),m.a.createElement(A.a,{label:"Swap Fee (0.30%)",text:a.limitOrderSwapFee,suffix:a.fromSymbol,disabled:o}),m.a.createElement(A.a,{label:"Expiration",text:"24 Hours From Now",disabled:o}),m.a.createElement(Te,{state:a}))},Te=function(e){var t=e.state,r=Object(s.useContext)(U.a).getTokenAllowance,n=Object(s.useState)({}),o=l()(n,2),c=o[0],i=o[1],u=Object(s.useState)(),b=l()(u,2),O=b[0],E=b[1];p()((function(){return i({})}),[t.fromSymbol,t.toSymbol,t.fromAmount]),Object(V.a)((function(){var e,n;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.fromToken||Object(K.e)(t.fromAmount)){o.next=6;break}return e=Object(K.f)(t.fromAmount,t.fromToken.decimals),o.next=4,a.a.awrap(r(t.fromToken.address,R.f));case 4:n=o.sent,E(f.ethers.BigNumber.from(n).gte(e));case 6:case"end":return o.stop()}}),null,null,null,Promise)}),500,[t.fromToken,t.fromAmount]);var k="market"===t.orderType||""===t.toSymbol||!t.fromToken||!t.toToken||Object(K.e)(t.fromAmount)||!t.priceInETH||Object(K.f)(t.fromAmount,t.fromToken.decimals).gt(t.priceInETH.mul(10))||!t.trade||Object(K.e)(t.limitOrderPrice);return m.a.createElement(d.a,{style:{marginTop:M.f.normal}},k?m.a.createElement(Se,{state:t,onError:i,disabled:!0}):Object(K.f)(t.fromAmount,t.fromToken.decimals).gt(t.fromToken.balance)?m.a.createElement(w.a,{symbol:t.fromSymbol}):N.a.parse(t.limitOrderPrice).gt(N.a.parse(t.trade.executionPrice.toFixed(t.toToken.decimals)))?t.unsupported?m.a.createElement(I.a,{state:t}):t.loading||!t.trade?m.a.createElement(v.a,null):m.a.createElement(m.a.Fragment,null,m.a.createElement(y.a,{token:t.fromToken,spender:R.f,onSuccess:function(){return E(!0)},onError:i,hidden:O}),m.a.createElement(Se,{state:t,onError:i,disabled:!O})):m.a.createElement(je,null),c.message&&4001!==c.code&&m.a.createElement(j.a,{error:c}))},je=function(){return m.a.createElement(E.a,{title:"Set Price Greater Than Market",disabled:!0})},Se=function(e){var t=e.state,r=e.onError,n=e.disabled,o=Object(J.a)("/swap/my-orders","LimitOrders"),l=Object(s.useCallback)((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return r({}),e.prev=1,e.next=4,a.a.awrap(t.onCreateOrder());case 4:o(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r(e.t0);case 10:case"end":return e.stop()}}),null,null,[[1,7]],Promise)}),[t.onCreateOrder,o,r]);return m.a.createElement(E.a,{title:"Place Limit Order",disabled:n,loading:t.creatingOrder,onPress:l})};t.default=function(){return m.a.createElement(ee.a,null,m.a.createElement(W.c,null),m.a.createElement(k.a,null,m.a.createElement(T.a,null,m.a.createElement(D.a,{text:"New Order"}),m.a.createElement(F.a,{light:!0},"Swap now or place a limit order with a desired price."),m.a.createElement(ne,null),"web"===u.a.OS&&m.a.createElement(z.a,null))))}}}]);
//# sourceMappingURL=8.510e51e7.chunk.js.map