{"version":3,"sources":["src/components/InfoBox.tsx","src/components/Notice.tsx","src/components/Border.tsx","src/components/TokenAmount.tsx","src/components/TokenSymbol.tsx","src/components/UnsupportedButton.tsx","src/components/TokenName.tsx","src/components/TokenSearch.tsx","src/components/TokenSelect.tsx","src/hooks/useAddLiquidityState.tsx","src/screens/LiquidityScreen.tsx"],"names":["InfoBox","props","backgroundLight","useColors","border","useStyles","style","color","backgroundColor","marginTop","Spacing","normal","small","padding","tiny","Notice","borderStyle","borderColor","clear","paddingHorizontal","note","text","buttonText","onPressButton","title","type","size","fontWeight","onPress","titleStyle","buttonStyle","paddingVertical","alignSelf","Border","height","width","marginBottom","TokenAmount","caption","disabled","formatBalance","amount","token","balance","decimals","TokenSymbol","medium","marginLeft","IS_DESKTOP","symbol","UnsupportedButton","state","fromSymbol","toSymbol","TokenName","Text","numberOfLines","ellipsizeMode","name","Loading","ActivityIndicator","position","right","bottom","TokenItem","accent","useCallback","onSelectToken","Selectable","selected","containerStyle","ITEM_SEPARATOR_HEIGHT","FlexView","alignItems","TokenLogo","View","flex","Button","duplicate","TokenSearch","useContext","EthersContext","provider","signer","tokens","useState","tokenToAdd","setTokenToAdd","loading","setLoading","findIndex","t","address","useEffect","undefined","useDelayedEffect","a","async","trim","ethers","utils","isAddress","findOrFetchToken","Input","value","onChangeText","placeholder","autoFocus","inputStyle","marginHorizontal","fontSize","inputContainerStyle","borderBottomWidth","marginRight","labelStyle","paddingTop","paddingBottom","onAddToken","TokenList","loadingTokens","renderItem","item","key","data","useMemo","filter","hidden","sort","t1","t2","isZero","localeCompare","length","FlatList","keyExtractor","EmptyList","margin","textAlign","selectable","TokenSelect","addCustomToken","search","setSearch","query","setQuery","find","toLowerCase","Expandable","expanded","onExpand","onChangeSymbol","hide","includes","useAddLiquidityState","useTokenPairState","updateTokens","pair","setPair","adding","setAdding","useSDK","getPair","addLiquidity","addLiquidityETH","useDelayedOnBlockEffect","block","fromToken","toToken","onAdd","fromAmount","toAmount","parseBalance","amountETH","tx","wait","setFromSymbol","AddLiquidity","large","ItemSeparator","FromTokenSelect","customTokens","ToTokenSelect","setToSymbol","Heading","FromTokenInput","TokenInput","onAmountChanged","newAmount","setFromAmount","priceOf","convertToken","quote","convertAmount","toExact","setToAmount","isEmptyValue","hideMaxButton","ToTokenInput","PriceInfo","FirstProviderInfo","green","noAmount","initialPrice","Fraction","from","toString","price","PairPriceInfo","setAmount","textDark","textLight","calculateAmountOfLPTokenMinted","useAsyncEffect","minted","toFixed","PriceMeta","Meta","label","suffix","Controls","error","setError","fromApproveRequired","fromTokenAllowed","toApproveRequired","toTokenAllowed","onError","FetchingButton","gt","InsufficientBalanceButton","ApproveButton","spender","ROUTER","onSuccess","setFromTokenAllowed","setToTokenAllowed","message","code","ErrorMessage","SupplyButton","goToRemoveLiquidity","useLinker","LiquidityScreen","Screen","Container","Content","Title","light","Platform","OS","WebFooter"],"mappings":"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","file":"static/js/8.7bcfaf8f.chunk.js","sourcesContent":["import React, { PropsWithChildren } from \"react\";\nimport { View, ViewProps } from \"react-native\";\n\nimport { Spacing } from \"../constants/dimension\";\nimport useColors from \"../hooks/useColors\";\nimport useStyles from \"../hooks/useStyles\";\n\nconst InfoBox = (props: PropsWithChildren<ViewProps>) => {\n    const { backgroundLight } = useColors();\n    const { border } = useStyles();\n    return (\n        <View\n            {...props}\n            style={[\n                {\n                    ...border({ color: backgroundLight }),\n                    backgroundColor: backgroundLight,\n                    marginTop: Spacing.normal + Spacing.small,\n                    padding: Spacing.small + Spacing.tiny\n                },\n                props.style\n            ]}\n        />\n    );\n};\n\nexport default InfoBox;\n","import React from \"react\";\nimport { View, ViewStyle } from \"react-native\";\n\nimport { Spacing } from \"../constants/dimension\";\nimport useStyles from \"../hooks/useStyles\";\nimport Button from \"./Button\";\nimport Text from \"./Text\";\n\nexport interface NoticeProps {\n    text: string;\n    clear?: boolean;\n    color?: string;\n    buttonText?: string;\n    onPressButton?: () => void;\n    style?: ViewStyle;\n}\n\nconst Notice = (props: NoticeProps) => {\n    const { border } = useStyles();\n    const borderStyle = border({ color: props.color });\n    const color = props.color || borderStyle.borderColor;\n    return (\n        <View style={[props.clear ? { paddingHorizontal: Spacing.tiny } : borderStyle, props.style]}>\n            <Text\n                note={true}\n                style={{\n                    color\n                }}>\n                {props.text}\n            </Text>\n            {props.buttonText && props.onPressButton && (\n                <Button\n                    title={props.buttonText}\n                    type={\"clear\"}\n                    size={\"small\"}\n                    fontWeight={\"bold\"}\n                    onPress={props.onPressButton}\n                    titleStyle={{ color }}\n                    buttonStyle={{ paddingHorizontal: 0, paddingVertical: 0 }}\n                    style={{ alignSelf: \"flex-end\", marginTop: Spacing.tiny }}\n                />\n            )}\n        </View>\n    );\n};\n\nexport default Notice;\n","import React from \"react\";\nimport { View } from \"react-native\";\n\nimport { Spacing } from \"../constants/dimension\";\nimport useColors from \"../hooks/useColors\";\n\nconst Border = () => {\n    const { border } = useColors();\n    return (\n        <View\n            style={{\n                height: 1,\n                width: \"100%\",\n                backgroundColor: border,\n                marginTop: Spacing.small,\n                marginBottom: Spacing.small + Spacing.tiny\n            }}\n        />\n    );\n};\n\nexport default Border;\n","import React from \"react\";\nimport { TextStyle } from \"react-native\";\n\nimport { ethers } from \"ethers\";\nimport Token from \"../types/Token\";\nimport { formatBalance } from \"../utils\";\nimport Text from \"./Text\";\n\nconst TokenAmount = (props: { token: Token; amount?: ethers.BigNumber; disabled?: boolean; style?: TextStyle }) => (\n    <Text caption={true} disabled={props.disabled} style={props.style}>\n        {formatBalance(props.amount || props.token.balance, props.token.decimals, 8)}\n    </Text>\n);\n\nexport default TokenAmount;\n","import React from \"react\";\n\nimport { IS_DESKTOP, Spacing } from \"../constants/dimension\";\nimport Token from \"../types/Token\";\nimport Text from \"./Text\";\n\nconst TokenSymbol = (props: { token: Token; disabled?: boolean }) => (\n    <Text medium={true} caption={true} disabled={props.disabled} style={{ marginLeft: Spacing.tiny }}>\n        {IS_DESKTOP ? props.token.symbol : \"\"}\n    </Text>\n);\n\nexport default TokenSymbol;\n","import React from \"react\";\n\nimport { TokenPairState } from \"../hooks/useTokenPairState\";\nimport Button from \"./Button\";\n\nconst UnsupportedButton = ({ state }: { state: TokenPairState }) => {\n    return <Button title={state.fromSymbol + \"-\" + state.toSymbol + \" Not Supported\"} disabled={true} />;\n};\n\nexport default UnsupportedButton;\n","import React from \"react\";\n\nimport { IS_DESKTOP, Spacing } from \"../constants/dimension\";\nimport Token from \"../types/Token\";\nimport Text from \"./Text\";\n\nconst TokenName = (props: { token: Token; disabled?: boolean }) => (\n    <Text\n        caption={true}\n        numberOfLines={1}\n        ellipsizeMode={\"tail\"}\n        style={{ marginLeft: Spacing.small, width: 180 }}\n        disabled={props.disabled}>\n        {IS_DESKTOP ? props.token.name : props.token.symbol}\n    </Text>\n);\n\nexport default TokenName;\n","import React, { FC, useCallback, useContext, useEffect, useState } from \"react\";\nimport { ActivityIndicator, View } from \"react-native\";\n\nimport { ethers } from \"ethers\";\nimport { IS_DESKTOP, Spacing } from \"../constants/dimension\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport useColors from \"../hooks/useColors\";\nimport useDelayedEffect from \"../hooks/useDelayedEffect\";\nimport useStyles from \"../hooks/useStyles\";\nimport Token from \"../types/Token\";\nimport { findOrFetchToken } from \"../utils/fetch-utils\";\nimport Button from \"./Button\";\nimport FlexView from \"./FlexView\";\nimport Input from \"./Input\";\nimport { ITEM_SEPARATOR_HEIGHT } from \"./ItemSeparator\";\nimport Selectable from \"./Selectable\";\nimport TokenLogo from \"./TokenLogo\";\nimport TokenName from \"./TokenName\";\n\nexport interface TokenSearchProps {\n    tokens?: Token[];\n    text: string;\n    onChangeText: (text: string) => void;\n    onAddToken?: (token: Token) => void;\n}\n\n// tslint:disable-next-line:max-func-body-length\nconst TokenSearch: FC<TokenSearchProps> = props => {\n    const { border } = useStyles();\n    const { provider, signer, tokens } = useContext(EthersContext);\n    const [tokenToAdd, setTokenToAdd] = useState<Token>();\n    const [loading, setLoading] = useState(false);\n    const duplicate = !!tokenToAdd && tokens.findIndex(t => t.address === tokenToAdd.address) !== -1;\n    if (!props.tokens) return <View />;\n    useEffect(() => {\n        if (props.text === \"\") {\n            setLoading(false);\n            setTokenToAdd(undefined);\n        }\n    }, [props.text]);\n    useDelayedEffect(\n        async () => {\n            const address = props.text.trim();\n            if (provider && signer && ethers.utils.isAddress(address)) {\n                setLoading(true);\n                try {\n                    const token = await findOrFetchToken(provider, address);\n                    if (token.name && token.symbol && token.decimals) {\n                        setTokenToAdd(token as Token);\n                    }\n                } finally {\n                    setLoading(false);\n                }\n            }\n        },\n        300,\n        [provider, signer, props.text]\n    );\n    return (\n        <View>\n            <FlexView style={{ marginBottom: Spacing.small }}>\n                <Input\n                    value={props.text}\n                    onChangeText={props.onChangeText}\n                    placeholder={\"Token name, symbol or address\"}\n                    autoFocus={IS_DESKTOP}\n                    inputStyle={{ marginHorizontal: Spacing.tiny, fontSize: props.text ? 20 : 16 }}\n                    inputContainerStyle={{ borderBottomWidth: 0, marginRight: loading ? 32 : 0 }}\n                    labelStyle={{ height: 0 }}\n                    containerStyle={{\n                        ...border(),\n                        paddingHorizontal: Spacing.tiny,\n                        paddingTop: 12,\n                        paddingBottom: 0\n                    }}\n                />\n                {props.onAddToken && loading && <Loading />}\n            </FlexView>\n            {props.onAddToken && tokenToAdd && (\n                <TokenItem token={tokenToAdd} selected={true} onSelectToken={props.onAddToken} duplicate={duplicate} />\n            )}\n        </View>\n    );\n};\n\nconst Loading = () => <ActivityIndicator size={\"small\"} style={{ position: \"absolute\", right: 16, bottom: 16 }} />;\n\nconst TokenItem = (props: {\n    token: Token;\n    selected: boolean;\n    onSelectToken: (token: Token) => void;\n    duplicate: boolean;\n}) => {\n    const { accent } = useColors();\n    const onPress = useCallback(() => {\n        props.onSelectToken(props.token);\n    }, [props.onSelectToken, props.token]);\n    return (\n        <Selectable\n            selected={false}\n            disabled={true}\n            onPress={onPress}\n            containerStyle={{\n                marginBottom: ITEM_SEPARATOR_HEIGHT\n            }}>\n            <FlexView style={{ alignItems: \"center\" }}>\n                <TokenLogo token={props.token} />\n                <TokenName token={props.token} />\n                <View style={{ flex: 1 }} />\n                <Button\n                    type={\"clear\"}\n                    size={\"small\"}\n                    color={accent}\n                    title={props.duplicate ? \"Already Added\" : \"ADD \" + props.token.symbol}\n                    fontWeight={\"bold\"}\n                    onPress={onPress}\n                    disabled={props.duplicate}\n                    buttonStyle={{ paddingHorizontal: 4, height: 27 }}\n                />\n            </FlexView>\n        </Selectable>\n    );\n};\n\nexport default TokenSearch;\n","import React, { FC, useCallback, useContext, useEffect, useMemo, useState } from \"react\";\nimport { FlatList, View, ViewStyle } from \"react-native\";\n\nimport { ethers } from \"ethers\";\nimport { Spacing } from \"../constants/dimension\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport useDelayedEffect from \"../hooks/useDelayedEffect\";\nimport Token from \"../types/Token\";\nimport Expandable from \"./Expandable\";\nimport FlexView from \"./FlexView\";\nimport { ITEM_SEPARATOR_HEIGHT } from \"./ItemSeparator\";\nimport Loading from \"./Loading\";\nimport Selectable from \"./Selectable\";\nimport Text from \"./Text\";\nimport TokenAmount from \"./TokenAmount\";\nimport TokenLogo from \"./TokenLogo\";\nimport TokenName from \"./TokenName\";\nimport TokenSearch from \"./TokenSearch\";\nimport TokenSymbol from \"./TokenSymbol\";\n\nexport interface TokenSelectProps {\n    title: string;\n    symbol: string;\n    onChangeSymbol: (symbol: string) => void;\n    disabled?: (token: Token) => boolean;\n    hidden?: (token: Token) => boolean;\n    style?: ViewStyle;\n}\n\nconst TokenSelect: FC<TokenSelectProps> = props => {\n    const { tokens, addCustomToken } = useContext(EthersContext);\n    const [search, setSearch] = useState(\"\");\n    const [query, setQuery] = useState(\"\");\n    const token = useMemo(() => tokens.find(t => t.symbol === props.symbol), [tokens, props.symbol]);\n    const onSelectToken = t => props.onChangeSymbol(t.symbol);\n    const onUnselectToken = () => props.onChangeSymbol(\"\");\n    const onAddToken = async (t: Token) => {\n        await addCustomToken(t);\n        setSearch(\"\");\n        setQuery(\"\");\n    };\n    const hidden = (t: Token) => {\n        let hide = props.hidden?.(t) || false;\n        if (!hide && query.length > 0 && !ethers.utils.isAddress(query)) {\n            hide = !t.symbol.toLowerCase().includes(query) && !t.name.toLowerCase().includes(query);\n        }\n        return hide;\n    };\n    useEffect(() => setSearch(\"\"), [props.symbol]);\n    useDelayedEffect(() => setQuery(search.trim().toLowerCase()), 300, [search]);\n    return (\n        <View style={props.style}>\n            <Expandable title={props.title} expanded={!props.symbol} onExpand={() => props.onChangeSymbol(\"\")}>\n                <TokenSearch text={search} onChangeText={setSearch} tokens={tokens} onAddToken={onAddToken} />\n                <TokenList disabled={props.disabled} hidden={hidden} onSelectToken={onSelectToken} />\n            </Expandable>\n            {token && <TokenItem token={token} selected={true} onSelectToken={onUnselectToken} selectable={true} />}\n        </View>\n    );\n};\n\n// tslint:disable-next-line:max-func-body-length\nconst TokenList = (props: {\n    onSelectToken: (token: Token) => void;\n    disabled?: (token: Token) => boolean;\n    hidden?: (token: Token) => boolean;\n}) => {\n    const { loadingTokens, tokens } = useContext(EthersContext);\n    const renderItem = useCallback(\n        ({ item }) => {\n            return (\n                <TokenItem\n                    key={item.address}\n                    token={item}\n                    selected={false}\n                    onSelectToken={props.onSelectToken}\n                    disabled={props.disabled?.(item)}\n                />\n            );\n        },\n        [props.onSelectToken, props.disabled]\n    );\n    const data = useMemo(\n        () =>\n            tokens\n                .filter(token => (props.hidden ? !props.hidden(token) : true))\n                .sort(\n                    (t1, t2) =>\n                        (t2.balance.isZero() ? 0 : 10000000000) -\n                        (t1.balance.isZero() ? 0 : 10000000000) +\n                        t1.symbol.localeCompare(t2.symbol)\n                ),\n        [tokens, props.hidden]\n    );\n    return loadingTokens ? (\n        <Loading />\n    ) : data.length === 0 ? (\n        <EmptyList />\n    ) : (\n        <FlatList keyExtractor={item => item.address} data={data} renderItem={renderItem} />\n    );\n};\n\nconst EmptyList = () => {\n    return (\n        <View style={{ margin: Spacing.normal }}>\n            <Text disabled={true} style={{ textAlign: \"center\", width: \"100%\" }}>\n                {\"You don't have any matching tokens.\"}\n            </Text>\n        </View>\n    );\n};\n\nconst TokenItem = (props: {\n    token: Token;\n    selected: boolean;\n    onSelectToken: (token: Token) => void;\n    disabled?: boolean;\n    selectable?: boolean;\n}) => {\n    const onPress = useCallback(() => {\n        props.onSelectToken(props.token);\n    }, [props.onSelectToken, props.token]);\n    return (\n        <Selectable\n            selected={props.selected}\n            onPress={onPress}\n            disabled={props.disabled || props.selectable}\n            containerStyle={{\n                marginBottom: ITEM_SEPARATOR_HEIGHT\n            }}>\n            <FlexView style={{ alignItems: \"center\" }}>\n                <TokenLogo token={props.token} disabled={props.disabled} />\n                <TokenName token={props.token} disabled={props.disabled} />\n                <TokenAmount token={props.token} disabled={props.disabled} style={{ flex: 1, textAlign: \"right\" }} />\n                <TokenSymbol token={props.token} disabled={props.disabled} />\n            </FlexView>\n        </Selectable>\n    );\n};\n\nexport default TokenSelect;\n","import { useCallback, useContext, useState } from \"react\";\n\nimport { Pair } from \"@sushiswap/sdk\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport { parseBalance } from \"../utils\";\nimport useDelayedOnBlockEffect from \"./useDelayedOnBlockEffect\";\nimport useSDK from \"./useSDK\";\nimport useTokenPairState, { TokenPairState } from \"./useTokenPairState\";\n\nexport interface AddLiquidityState extends TokenPairState {\n    pair?: Pair;\n    onAdd: () => Promise<void>;\n    adding: boolean;\n}\n\n// tslint:disable-next-line:max-func-body-length\nconst useAddLiquidityState: () => AddLiquidityState = () => {\n    const state = useTokenPairState();\n    const { provider, signer, updateTokens } = useContext(EthersContext);\n    const [loading, setLoading] = useState(false);\n    const [pair, setPair] = useState<Pair>();\n    const [adding, setAdding] = useState(false);\n    const { getPair, addLiquidity, addLiquidityETH } = useSDK();\n\n    useDelayedOnBlockEffect(\n        async block => {\n            if (!block) {\n                setLoading(true);\n                setPair(undefined);\n            }\n            if (state.fromToken && state.toToken && provider) {\n                try {\n                    setPair(await getPair(state.fromToken, state.toToken, provider));\n                } catch (e) {\n                } finally {\n                    setLoading(false);\n                }\n            } else {\n                setLoading(false);\n            }\n        },\n        () => \"getPair(\" + state.fromSymbol + \",\" + state.toSymbol + \")\",\n        [state.fromSymbol, state.toSymbol, provider],\n        0\n    );\n\n    const onAdd = useCallback(async () => {\n        if (state.fromToken && state.toToken && state.fromAmount && state.toAmount && signer) {\n            setAdding(true);\n            try {\n                const fromAmount = parseBalance(state.fromAmount, state.fromToken.decimals);\n                const toAmount = parseBalance(state.toAmount, state.toToken.decimals);\n                if (state.fromSymbol === \"ETH\" || state.toSymbol === \"ETH\") {\n                    const [token, amount, amountETH] =\n                        state.fromSymbol === \"ETH\"\n                            ? [state.toToken, toAmount, fromAmount]\n                            : [state.fromToken, fromAmount, toAmount];\n                    const tx = await addLiquidityETH(token, amount, amountETH, signer);\n                    await tx.wait();\n                } else {\n                    const tx = await addLiquidity(state.fromToken, state.toToken, fromAmount, toAmount, signer);\n                    await tx.wait();\n                }\n                await updateTokens();\n                state.setFromSymbol(\"\");\n            } finally {\n                setAdding(false);\n            }\n        }\n    }, [state.fromToken, state.toToken, state.fromAmount, state.toAmount, signer]);\n\n    return {\n        ...state,\n        loading: loading || state.loading,\n        pair,\n        onAdd,\n        adding\n    };\n};\n\nexport default useAddLiquidityState;\n","import React, { useCallback, useContext, useState } from \"react\";\nimport { Platform, View } from \"react-native\";\n\nimport useAsyncEffect from \"use-async-effect\";\nimport ApproveButton from \"../components/ApproveButton\";\nimport Border from \"../components/Border\";\nimport Button from \"../components/Button\";\nimport Container from \"../components/Container\";\nimport Content from \"../components/Content\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport FetchingButton from \"../components/FetchingButton\";\nimport Heading from \"../components/Heading\";\nimport InfoBox from \"../components/InfoBox\";\nimport InsufficientBalanceButton from \"../components/InsufficientBalanceButton\";\nimport ItemSeparator from \"../components/ItemSeparator\";\nimport Meta from \"../components/Meta\";\nimport Notice from \"../components/Notice\";\nimport Text from \"../components/Text\";\nimport Title from \"../components/Title\";\nimport TokenInput from \"../components/TokenInput\";\nimport TokenSelect from \"../components/TokenSelect\";\nimport UnsupportedButton from \"../components/UnsupportedButton\";\nimport WebFooter from \"../components/web/WebFooter\";\nimport { LiquiditySubMenu } from \"../components/web/WebSubMenu\";\nimport { ROUTER } from \"../constants/contracts\";\nimport { Spacing } from \"../constants/dimension\";\nimport Fraction from \"../constants/Fraction\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport useAddLiquidityState, { AddLiquidityState } from \"../hooks/useAddLiquidityState\";\nimport useColors from \"../hooks/useColors\";\nimport useLinker from \"../hooks/useLinker\";\nimport useSDK from \"../hooks/useSDK\";\nimport MetamaskError from \"../types/MetamaskError\";\nimport { convertAmount, convertToken, isEmptyValue, parseBalance } from \"../utils\";\nimport Screen from \"./Screen\";\n\nconst LiquidityScreen = () => {\n    return (\n        <Screen>\n            <LiquiditySubMenu />\n            <Container>\n                <Content>\n                    <Title text={\"Add Liquidity\"} />\n                    <Text light={true}>Add liquidity to a pool and get LP tokens of the pair.</Text>\n                    <AddLiquidity />\n                    {Platform.OS === \"web\" && <WebFooter />}\n                </Content>\n            </Container>\n        </Screen>\n    );\n};\n\nconst AddLiquidity = () => {\n    const state = useAddLiquidityState();\n    return (\n        <View style={{ marginTop: Spacing.large }}>\n            <FromTokenSelect state={state} />\n            <Border />\n            <ToTokenSelect state={state} />\n            <Border />\n            <FromTokenInput state={state} />\n            <ItemSeparator />\n            <ToTokenInput state={state} />\n            <ItemSeparator />\n            <PriceInfo state={state} />\n        </View>\n    );\n};\n\nconst FromTokenSelect = ({ state }: { state: AddLiquidityState }) => {\n    const { customTokens } = useContext(EthersContext);\n    return (\n        <TokenSelect\n            title={\"1st Token\"}\n            symbol={state.fromSymbol}\n            onChangeSymbol={state.setFromSymbol}\n            hidden={token => !customTokens.find(t => t.address === token.address) && token.balance.isZero()}\n        />\n    );\n};\n\nconst ToTokenSelect = ({ state }: { state: AddLiquidityState }) => {\n    const { customTokens } = useContext(EthersContext);\n    if (!state.fromSymbol) {\n        return <Heading text={\"2nd Token\"} disabled={true} />;\n    }\n    return (\n        <View>\n            <TokenSelect\n                title={\"2nd Token\"}\n                symbol={state.toSymbol}\n                onChangeSymbol={state.setToSymbol}\n                hidden={token =>\n                    token.symbol === state.fromSymbol ||\n                    (!customTokens.find(t => t.address === token.address) && token.balance.isZero())\n                }\n            />\n        </View>\n    );\n};\n\nconst FromTokenInput = ({ state }: { state: AddLiquidityState }) => {\n    if (!state.fromSymbol || !state.toSymbol) {\n        return <Heading text={\"Amount of Tokens\"} disabled={true} />;\n    }\n    const onAmountChanged = (newAmount: string) => {\n        state.setFromAmount(newAmount);\n        if (state.pair && state.fromToken) {\n            const fromPrice = state.pair.priceOf(convertToken(state.fromToken));\n            const toAmount = fromPrice.quote(convertAmount(state.fromToken, newAmount)).toExact();\n            state.setToAmount(isEmptyValue(toAmount) ? \"\" : toAmount);\n        }\n    };\n    return (\n        <TokenInput\n            title={\"Amount of Tokens\"}\n            token={state.fromToken}\n            amount={state.fromAmount}\n            onAmountChanged={onAmountChanged}\n            hideMaxButton={state.loading && !state.pair}\n        />\n    );\n};\n\nconst ToTokenInput = ({ state }: { state: AddLiquidityState }) => {\n    if (!state.fromSymbol || !state.toSymbol) {\n        return <View />;\n    }\n    const onAmountChanged = (newAmount: string) => {\n        state.setToAmount(newAmount);\n        if (state.pair && state.toToken) {\n            const toPrice = state.pair.priceOf(convertToken(state.toToken));\n            const fromAmount = toPrice.quote(convertAmount(state.toToken, newAmount)).toExact();\n            state.setFromAmount(isEmptyValue(fromAmount) ? \"\" : fromAmount);\n        }\n    };\n    return (\n        <TokenInput\n            token={state.toToken}\n            amount={state.toAmount}\n            onAmountChanged={onAmountChanged}\n            hideMaxButton={state.loading && !state.pair}\n        />\n    );\n};\n\nconst PriceInfo = ({ state }: { state: AddLiquidityState }) => {\n    if (state.fromToken && state.toToken && !state.loading && !state.pair) {\n        return <FirstProviderInfo state={state} />;\n    } else {\n        return <PairPriceInfo state={state} />;\n    }\n};\n\nconst FirstProviderInfo = ({ state }: { state: AddLiquidityState }) => {\n    const { green } = useColors();\n    const noAmount = isEmptyValue(state.fromAmount) || isEmptyValue(state.toAmount);\n    const initialPrice = Fraction.from(\n        parseBalance(state.toAmount, state.toToken!.decimals),\n        parseBalance(state.fromAmount, state.fromToken!.decimals)\n    ).toString(8);\n    return (\n        <View>\n            <InfoBox style={{ marginTop: Spacing.normal }}>\n                <PriceMeta state={state} price={initialPrice} disabled={noAmount} />\n            </InfoBox>\n            <Notice\n                text={\n                    \"You are the first liquidity provider.\\n\" +\n                    \"The ratio of tokens you add will set the price of this pool.\"\n                }\n                color={green}\n                style={{ marginTop: Spacing.small }}\n            />\n        </View>\n    );\n};\n\nconst PairPriceInfo = ({ state }: { state: AddLiquidityState }) => {\n    const [amount, setAmount] = useState<string>();\n    const { textDark, textLight, placeholder } = useColors();\n    const { calculateAmountOfLPTokenMinted } = useSDK();\n    useAsyncEffect(async () => {\n        if (state.pair && !isEmptyValue(state.fromAmount) && !isEmptyValue(state.toAmount)) {\n            const minted = await calculateAmountOfLPTokenMinted(\n                state.pair,\n                convertAmount(state.fromToken!, state.fromAmount),\n                convertAmount(state.toToken!, state.toAmount)\n            );\n            setAmount(minted?.toFixed(8));\n        }\n    }, [state.pair, state.fromAmount, state.toAmount]);\n    const disabled = isEmptyValue(state.fromAmount) || isEmptyValue(state.toAmount);\n    const price =\n        state.pair && state.fromToken ? state.pair.priceOf(convertToken(state.fromToken)).toFixed(8) : undefined;\n    const color = disabled ? placeholder : amount ? textDark : textLight;\n    const symbol = state.fromSymbol + \"-\" + state.toSymbol;\n    return (\n        <InfoBox>\n            <Text style={{ fontSize: 28, marginBottom: Spacing.normal, color }}>\n                {disabled ? \"N/A\" : amount ? amount + \" \" + symbol : \"Fetching…\"}\n            </Text>\n            <PriceMeta state={state} price={price} disabled={!state.fromSymbol || !state.toSymbol} />\n            <Controls state={state} />\n        </InfoBox>\n    );\n};\n\nconst PriceMeta = ({ state, price, disabled }) => (\n    <Meta label={\"Price\"} text={price} suffix={state.toSymbol + \" = 1 \" + state.fromSymbol} disabled={disabled} />\n);\n\n// tslint:disable-next-line:max-func-body-length\nconst Controls = ({ state }: { state: AddLiquidityState }) => {\n    const [error, setError] = useState<MetamaskError>({});\n    useAsyncEffect(() => setError({}), [state.fromSymbol, state.toSymbol, state.fromAmount]);\n    const fromApproveRequired = state.fromSymbol !== \"ETH\" && !state.fromTokenAllowed;\n    const toApproveRequired = state.toSymbol !== \"ETH\" && !state.toTokenAllowed;\n    const disabled =\n        fromApproveRequired || toApproveRequired || isEmptyValue(state.fromAmount) || isEmptyValue(state.toAmount);\n    return (\n        <View style={{ marginTop: Spacing.normal }}>\n            {!state.fromToken ||\n            !state.toToken ||\n            state.loading ||\n            isEmptyValue(state.fromAmount) ||\n            isEmptyValue(state.toAmount) ? (\n                <SupplyButton state={state} onError={setError} disabled={true} />\n            ) : state.loading || !state.pair ? (\n                <FetchingButton />\n            ) : parseBalance(state.fromAmount, state.fromToken.decimals).gt(state.fromToken.balance) ? (\n                <InsufficientBalanceButton symbol={state.fromSymbol} />\n            ) : parseBalance(state.toAmount, state.toToken.decimals).gt(state.toToken.balance) ? (\n                <InsufficientBalanceButton symbol={state.toSymbol} />\n            ) : (state.fromSymbol === \"ETH\" && state.toSymbol === \"WETH\") ||\n              (state.fromSymbol === \"WETH\" && state.toSymbol === \"ETH\") ? (\n                <UnsupportedButton state={state} />\n            ) : (\n                <>\n                    <ApproveButton\n                        token={state.fromToken}\n                        spender={ROUTER}\n                        onSuccess={() => state.setFromTokenAllowed(true)}\n                        onError={setError}\n                        hidden={!fromApproveRequired}\n                    />\n                    <ApproveButton\n                        token={state.toToken}\n                        spender={ROUTER}\n                        onSuccess={() => state.setToTokenAllowed(true)}\n                        onError={setError}\n                        hidden={!toApproveRequired}\n                    />\n                    <SupplyButton state={state} onError={setError} disabled={disabled} />\n                </>\n            )}\n            {error.message && error.code !== 4001 && <ErrorMessage error={error} />}\n        </View>\n    );\n};\n\nconst SupplyButton = ({\n    state,\n    onError,\n    disabled\n}: {\n    state: AddLiquidityState;\n    onError: (e) => void;\n    disabled: boolean;\n}) => {\n    const goToRemoveLiquidity = useLinker(\"/liquidity/remove\", \"RemoveLiquidity\");\n    const onPress = useCallback(async () => {\n        onError({});\n        try {\n            await state.onAdd();\n            goToRemoveLiquidity();\n        } catch (e) {\n            onError(e);\n        }\n    }, [state.onAdd, onError]);\n    return (\n        <Button\n            title={state.fromSymbol && state.toSymbol ? \"Supply \" + state.fromSymbol + \"-\" + state.toSymbol : \"Supply\"}\n            disabled={disabled}\n            loading={state.adding}\n            onPress={onPress}\n        />\n    );\n};\n\nexport default LiquidityScreen;\n"],"sourceRoot":""}