{"version":3,"sources":["src/components/Notice.tsx","src/hooks/useLPTokensState.tsx","src/components/LPTokenSelect.tsx","src/components/ButtonGroup.tsx","src/components/CloseIcon.tsx","src/components/SelectIcon.tsx","src/hooks/useFarmingState.tsx","src/screens/FarmingScreen.tsx"],"names":["Notice","props","borderStyle","border","useStyles","color","borderColor","style","clear","paddingHorizontal","Spacing","tiny","note","text","buttonText","onPressButton","title","type","size","fontWeight","onPress","titleStyle","buttonStyle","paddingVertical","alignSelf","marginTop","useLPTokensState","mode","state","useTokenPairState","useContext","EthersContext","provider","signer","address","tokens","useState","lastTimeRefreshed","setLastTimeRefreshed","loading","setLoading","lpTokens","setLPTokens","selectedLPToken","setSelectedLPToken","selectedLPTokenAllowed","setSelectedLPTokenAllowed","pair","setPair","amount","setAmount","getPair","useSDK","updateLPTokens","a","async","fetchPools","fetchMyLPTokens","fetchMyUniswapLPTokens","data","useEffect","useAsyncEffect","undefined","tokenA","tokenB","useDelayedOnBlockEffect","block","length","fromToken","toToken","updateLastTimeRefreshed","Date","now","LPTokenList","emptyText","filter","Item","renderItem","useCallback","item","key","token","selected","onSelectToken","sort","t1","t2","totalDeposited","ethers","constants","Zero","sub","div","pow10","toNumber","amountDeposited","gt","balance","Loading","FlatList","keyExtractor","JSON","stringify","EmptyList","View","margin","normal","Text","disabled","textAlign","width","LPTokenItem","textMedium","useColors","formatBalance","decimals","Selectable","containerStyle","marginBottom","ITEM_SEPARATOR_HEIGHT","FlexView","alignItems","TokenLogo","small","replaceWETH","marginLeft","medium","caption","symbol","flex","light","LPTokenSelect","Expandable","expanded","onExpand","ButtonGroup","borderDark","shadow","index","setIndex","i","selectedIndex","textStyle","fontFamily","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","buttons","borderBottomRightRadius","selectedButtonStyle","backgroundColor","marginHorizontal","marginVertical","height","CloseIcon","textLight","name","SelectIcon","accent","useFarmingState","getTokenAllowance","getExpectedSushiRewardPerBlock","deposit","withdraw","filteredBy","setFilteredBy","action","setAction","expectedSushiRewardPerBlock","setExpectedSushiRewardPerBlock","depositing","setDepositing","withdrawing","setWithdrawing","minAllowance","BigNumber","from","pow","MASTER_CHEF","allowance","gte","onDeposit","id","parseBalance","tx","wait","onWithdraw","Actions","Farming","Column","h4","showFilter","onFilterChanged","TokenItem","background","backgroundLight","field","hovered","TouchableHighlight","fontSize","LogoSymbol","isEmpty","setIsEmpty","source","logoURI","require","uri","Image","onError","borderRadius","replace","ActionSelect","noTopMargin","indexOf","Heading","Meta","label","element","DepositText","WithdrawText","Deposit","TokenInput","hidden","isZero","onAmountChanged","AddLiquidityNotice","green","DepositInfo","sushiReward","mul","isEmptyValue","DepositControls","error","setError","approveRequired","InsufficientBalanceButton","FetchingButton","ApproveButton","spender","onSuccess","message","code","ErrorMessage","AddLiquidityButton","useLinker","Button","DepositButton","catch","Withdraw","NoLPTokenNotice","WithdrawInfo","pendingSushi","WithdrawControls","WithdrawButton","FarmingScreen","Screen","Container","Content","Platform","OS","WebFooter"],"mappings":"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","file":"static/js/12.aebcef3f.chunk.js","sourcesContent":["import React from \"react\";\nimport { View, ViewStyle } from \"react-native\";\n\nimport { Spacing } from \"../constants/dimension\";\nimport useStyles from \"../hooks/useStyles\";\nimport Button from \"./Button\";\nimport Text from \"./Text\";\n\nexport interface NoticeProps {\n    text: string;\n    clear?: boolean;\n    color?: string;\n    buttonText?: string;\n    onPressButton?: () => void;\n    style?: ViewStyle;\n}\n\nconst Notice = (props: NoticeProps) => {\n    const { border } = useStyles();\n    const borderStyle = border({ color: props.color });\n    const color = props.color || borderStyle.borderColor;\n    return (\n        <View style={[props.clear ? { paddingHorizontal: Spacing.tiny } : borderStyle, props.style]}>\n            <Text\n                note={true}\n                style={{\n                    color\n                }}>\n                {props.text}\n            </Text>\n            {props.buttonText && props.onPressButton && (\n                <Button\n                    title={props.buttonText}\n                    type={\"clear\"}\n                    size={\"small\"}\n                    fontWeight={\"bold\"}\n                    onPress={props.onPressButton}\n                    titleStyle={{ color }}\n                    buttonStyle={{ paddingHorizontal: 0, paddingVertical: 0 }}\n                    style={{ alignSelf: \"flex-end\", marginTop: Spacing.tiny }}\n                />\n            )}\n        </View>\n    );\n};\n\nexport default Notice;\n","import { useContext, useEffect, useState } from \"react\";\n\nimport { Pair } from \"@sushiswap/sdk\";\nimport useAsyncEffect from \"use-async-effect\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport LPToken from \"../types/LPToken\";\nimport { fetchMyLPTokens, fetchMyUniswapLPTokens, fetchPools } from \"../utils/fetch-utils\";\nimport useDelayedOnBlockEffect from \"./useDelayedOnBlockEffect\";\nimport useSDK from \"./useSDK\";\nimport useTokenPairState, { TokenPairState } from \"./useTokenPairState\";\n\nexport interface LPTokensState extends TokenPairState {\n    updateLPTokens: () => Promise<void>;\n    lastTimeRefreshed: number;\n    updateLastTimeRefreshed: () => void;\n    lpTokens: LPToken[];\n    selectedLPToken?: LPToken;\n    setSelectedLPToken: (token?: LPToken) => void;\n    selectedLPTokenAllowed: boolean;\n    setSelectedLPTokenAllowed: (allowed: boolean) => void;\n    pair?: Pair;\n    amount: string;\n    setAmount: (amount: string) => void;\n}\n\ntype Mode = \"pools\" | \"my-lp-tokens\" | \"my-uniswap-lp-tokens\";\n\n// tslint:disable-next-line:max-func-body-length\nconst useLPTokensState: (mode: Mode) => LPTokensState = mode => {\n    const state = useTokenPairState();\n    const { provider, signer, address, tokens } = useContext(EthersContext);\n    const [lastTimeRefreshed, setLastTimeRefreshed] = useState(0);\n    const [loading, setLoading] = useState(true);\n    const [lpTokens, setLPTokens] = useState<LPToken[]>([]);\n    const [selectedLPToken, setSelectedLPToken] = useState<LPToken>();\n    const [selectedLPTokenAllowed, setSelectedLPTokenAllowed] = useState(false);\n    const [pair, setPair] = useState<Pair>();\n    const [amount, setAmount] = useState(\"\");\n    const { getPair } = useSDK();\n\n    const updateLPTokens = async () => {\n        if (provider && signer) {\n            try {\n                const data = await (mode === \"pools\"\n                    ? fetchPools(provider, signer)\n                    : mode === \"my-lp-tokens\"\n                    ? fetchMyLPTokens(tokens, provider, signer)\n                    : fetchMyUniswapLPTokens(tokens, provider, signer));\n                if (data) {\n                    setLPTokens(data);\n                }\n            } finally {\n                setLoading(false);\n            }\n        }\n    };\n\n    useEffect(() => {\n        if (!selectedLPToken) {\n            setAmount(\"\");\n        }\n    }, [selectedLPToken]);\n\n    useAsyncEffect(async () => {\n        setLoading(true);\n        setPair(undefined);\n        if (selectedLPToken && provider) {\n            try {\n                setPair(await getPair(selectedLPToken.tokenA, selectedLPToken.tokenB, provider));\n            } catch (e) {\n            } finally {\n                setLoading(false);\n            }\n        } else {\n            setLoading(false);\n        }\n    }, [selectedLPToken, provider]);\n\n    useDelayedOnBlockEffect(\n        async block => {\n            if (address && (mode === \"pools\" || tokens.length > 0)) {\n                if (!block) {\n                    setLoading(true);\n                }\n                await updateLPTokens();\n            }\n        },\n        () => \"updateLPTokens()\",\n        [tokens.length, address, lastTimeRefreshed],\n        0\n    );\n\n    return {\n        ...state,\n        fromToken: state.fromToken || selectedLPToken?.tokenA,\n        toToken: state.toToken || selectedLPToken?.tokenB,\n        updateLPTokens,\n        loading: state.loading || loading,\n        lastTimeRefreshed,\n        updateLastTimeRefreshed: () => {\n            setLastTimeRefreshed(Date.now());\n        },\n        lpTokens,\n        selectedLPToken,\n        setSelectedLPToken,\n        selectedLPTokenAllowed,\n        setSelectedLPTokenAllowed,\n        pair,\n        amount,\n        setAmount\n    };\n};\n\nexport default useLPTokensState;\n","import React, { FC, useCallback } from \"react\";\nimport { FlatList, View, ViewStyle } from \"react-native\";\n\nimport { ethers } from \"ethers\";\nimport { Spacing } from \"../constants/dimension\";\nimport useColors from \"../hooks/useColors\";\nimport { LPTokensState } from \"../hooks/useLPTokensState\";\nimport LPToken from \"../types/LPToken\";\nimport { formatBalance, pow10 } from \"../utils\";\nimport CheckBox from \"./CheckBox\";\nimport Expandable from \"./Expandable\";\nimport FlexView from \"./FlexView\";\nimport { ITEM_SEPARATOR_HEIGHT } from \"./ItemSeparator\";\nimport Loading from \"./Loading\";\nimport Selectable from \"./Selectable\";\nimport Text from \"./Text\";\nimport TokenLogo from \"./TokenLogo\";\n\nexport type LPTokenSelectFilter = \"balance\" | \"amountDeposited\" | \"\";\n\nexport interface LPTokenSelectProps {\n    state: LPTokensState;\n    title: string;\n    emptyText: string;\n    showFilter?: boolean;\n    filter?: LPTokenSelectFilter;\n    onFilterChanged?: (filter: LPTokenSelectFilter) => void;\n    Item: FC<LPTokenItemProps>;\n    style?: ViewStyle;\n}\n\nexport interface LPTokenItemProps {\n    token: LPToken;\n    selected: boolean;\n    filter?: LPTokenSelectFilter;\n    onSelectToken: (token: LPToken) => void;\n}\n\nconst LPTokenSelect: FC<LPTokenSelectProps> = props => {\n    const onUnselectToken = () => props.state.setSelectedLPToken();\n    return (\n        <View style={props.style}>\n            <Expandable\n                title={props.title}\n                expanded={!props.state.selectedLPToken}\n                onExpand={() => props.state.setSelectedLPToken()}>\n                <LPTokenList state={props.state} filter={props.filter} emptyText={props.emptyText} Item={props.Item} />\n            </Expandable>\n            {props.state.selectedLPToken && (\n                <LPTokenItem token={props.state.selectedLPToken} selected={true} onSelectToken={onUnselectToken} />\n            )}\n        </View>\n    );\n};\n\nconst Filter = ({ filter, onFilterChanged }) => {\n    const handler = (f: string) => () => onFilterChanged(f);\n    return (\n        <FlexView style={{ width: \"100%\", justifyContent: \"flex-end\" }}>\n            <CheckBox checked={filter === \"balance\"} onPress={handler(\"balance\")} title={\"with balance\"} />\n            <CheckBox\n                checked={filter === \"amountDeposited\"}\n                onPress={handler(\"amountDeposited\")}\n                title={\"with deposit\"}\n            />\n            <CheckBox checked={!filter} onPress={handler(\"\")} title={\"all\"} />\n        </FlexView>\n    );\n};\n\n// tslint:disable-next-line:max-func-body-length\nconst LPTokenList = ({\n    state,\n    emptyText,\n    filter,\n    Item\n}: {\n    state: LPTokensState;\n    emptyText: string;\n    filter?: LPTokenSelectFilter;\n    Item: FC<LPTokenItemProps>;\n}) => {\n    const renderItem = useCallback(\n        ({ item }) => {\n            return (\n                <Item\n                    key={item.address}\n                    token={item}\n                    selected={false}\n                    filter={filter}\n                    onSelectToken={state.setSelectedLPToken}\n                />\n            );\n        },\n        [filter, state.setSelectedLPToken]\n    );\n    let data = state.lpTokens.sort((t1, t2) => {\n        return (t2.totalDeposited || ethers.constants.Zero)\n            .sub(t1.totalDeposited || ethers.constants.Zero)\n            .div(pow10(14))\n            .toNumber();\n    });\n    if (filter === \"amountDeposited\") {\n        data = data.filter(token => token.amountDeposited?.gt(0));\n    } else if (filter === \"balance\") {\n        data = data.filter(token => token.balance.gt(0));\n    }\n    return state.loading ? (\n        <Loading />\n    ) : data.length === 0 ? (\n        <EmptyList text={emptyText} />\n    ) : (\n        <FlatList keyExtractor={item => JSON.stringify(item)} data={data} renderItem={renderItem} />\n    );\n};\n\nconst EmptyList = ({ text }: { text: string }) => {\n    return (\n        <View style={{ margin: Spacing.normal }}>\n            <Text disabled={true} style={{ textAlign: \"center\", width: \"100%\" }}>\n                {text}\n            </Text>\n        </View>\n    );\n};\n\nexport const LPTokenItem: FC<LPTokenItemProps> = props => {\n    const { textMedium } = useColors();\n    const balance = formatBalance(props.token.balance, props.token.decimals, 8);\n    const onPress = useCallback(() => {\n        props.onSelectToken(props.token);\n    }, [props.onSelectToken, props.token]);\n    return (\n        <Selectable\n            selected={props.selected}\n            onPress={onPress}\n            containerStyle={{ marginBottom: ITEM_SEPARATOR_HEIGHT }}>\n            <FlexView style={{ alignItems: \"center\" }}>\n                <TokenLogo token={props.token.tokenA} small={true} replaceWETH={true} />\n                <TokenLogo token={props.token.tokenB} small={true} replaceWETH={true} style={{ marginLeft: 4 }} />\n                <Text medium={true} caption={true} style={{ marginLeft: Spacing.tiny }}>\n                    {props.token.tokenA.symbol}-{props.token.tokenB.symbol}\n                </Text>\n                <View style={{ flex: 1, marginLeft: Spacing.tiny }}>\n                    {/*<Text note={true} style={{ textAlign: \"right\", color: textLight }}>*/}\n                    {/*    My Balance*/}\n                    {/*</Text>*/}\n                    <Text caption={true} light={true} style={{ textAlign: \"right\", color: textMedium }}>\n                        {balance}\n                    </Text>\n                </View>\n            </FlexView>\n        </Selectable>\n    );\n};\n\nexport default LPTokenSelect;\n","import React, { FC, useCallback, useState } from \"react\";\nimport { ButtonGroup as NativeButtonGroup, ButtonGroupProps } from \"react-native-elements\";\n\nimport { Spacing } from \"../constants/dimension\";\nimport useColors from \"../hooks/useColors\";\nimport useStyles from \"../hooks/useStyles\";\n\n// tslint:disable-next-line:max-func-body-length\nconst ButtonGroup: FC<ButtonGroupProps> = props => {\n    const { borderDark } = useColors();\n    const { shadow } = useStyles();\n    const [index, setIndex] = useState<number>();\n    const onPress = useCallback(i => {\n        setIndex(i);\n        props.onPress(i);\n    }, []);\n    return (\n        <NativeButtonGroup\n            {...props}\n            selectedIndex={props.selectedIndex || index}\n            onPress={onPress}\n            textStyle={[\n                {\n                    fontFamily: \"regular\"\n                },\n                props.textStyle\n            ]}\n            buttonStyle={[\n                {\n                    borderTopLeftRadius: index === 0 ? Spacing.tiny : 0,\n                    borderBottomLeftRadius: index === 0 ? Spacing.tiny : 0,\n                    borderTopRightRadius:\n                        props.buttons.length > 0 && index === props.buttons.length - 1 ? Spacing.tiny : 0,\n                    borderBottomRightRadius:\n                        props.buttons.length > 0 && index === props.buttons.length - 1 ? Spacing.tiny : 0\n                },\n                props.buttonStyle\n            ]}\n            selectedButtonStyle={[\n                {\n                    backgroundColor: borderDark\n                },\n                props.selectedButtonStyle\n            ]}\n            containerStyle={[\n                {\n                    marginHorizontal: 0,\n                    marginVertical: 0,\n                    height: 56,\n                    ...shadow()\n                },\n                props.containerStyle\n            ]}\n        />\n    );\n};\n\nexport default ButtonGroup;\n","import React from \"react\";\nimport { Icon } from \"react-native-elements\";\n\nimport { Spacing } from \"../constants/dimension\";\nimport useColors from \"../hooks/useColors\";\n\nconst CloseIcon = () => {\n    const { textLight } = useColors();\n    return <Icon type={\"material-community\"} name={\"close\"} color={textLight} style={{ marginLeft: Spacing.tiny }} />;\n};\n\nexport default CloseIcon;\n","import React from \"react\";\nimport { Icon } from \"react-native-elements\";\n\nimport { Spacing } from \"../constants/dimension\";\nimport useColors from \"../hooks/useColors\";\n\nconst SelectIcon = () => {\n    const { accent } = useColors();\n    return (\n        <Icon type={\"material-community\"} name={\"chevron-right\"} color={accent} style={{ marginLeft: Spacing.tiny }} />\n    );\n};\n\nexport default SelectIcon;\n","import { useCallback, useContext, useEffect, useState } from \"react\";\n\nimport { ethers } from \"ethers\";\nimport useAsyncEffect from \"use-async-effect\";\nimport { LPTokenSelectFilter } from \"../components/LPTokenSelect\";\nimport { MASTER_CHEF } from \"../constants/contracts\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport { parseBalance } from \"../utils\";\nimport useLPTokensState, { LPTokensState } from \"./useLPTokensState\";\nimport useSDK from \"./useSDK\";\n\nexport interface FarmingState extends LPTokensState {\n    action?: Action;\n    setAction: (action?: Action) => void;\n    expectedSushiRewardPerBlock?: ethers.BigNumber;\n    filteredBy: LPTokenSelectFilter;\n    setFilteredBy: (filter: LPTokenSelectFilter) => void;\n    onDeposit: () => Promise<void>;\n    depositing: boolean;\n    onWithdraw: () => Promise<void>;\n    withdrawing: boolean;\n}\n\nexport type Action = \"deposit\" | \"withdraw\";\n\n// tslint:disable-next-line:max-func-body-length\nconst useFarmingState: () => FarmingState = () => {\n    const state = useLPTokensState(\"pools\");\n    const { provider, signer, getTokenAllowance } = useContext(EthersContext);\n    const { getExpectedSushiRewardPerBlock, deposit, withdraw } = useSDK();\n    const [filteredBy, setFilteredBy] = useState(\"\" as LPTokenSelectFilter);\n    const [action, setAction] = useState<Action>();\n    const [loading, setLoading] = useState(false);\n    const [expectedSushiRewardPerBlock, setExpectedSushiRewardPerBlock] = useState<ethers.BigNumber>();\n    const [depositing, setDepositing] = useState(false);\n    const [withdrawing, setWithdrawing] = useState(false);\n\n    useEffect(() => {\n        setFilteredBy(\"\");\n        setAction(undefined);\n        setLoading(false);\n        setDepositing(false);\n        setWithdrawing(false);\n        setExpectedSushiRewardPerBlock(undefined);\n    }, [state.selectedLPToken]);\n\n    useAsyncEffect(async () => {\n        if (signer && state.selectedLPToken) {\n            setLoading(true);\n            try {\n                setExpectedSushiRewardPerBlock(await getExpectedSushiRewardPerBlock(state.selectedLPToken, signer));\n            } finally {\n                setLoading(false);\n            }\n        }\n    }, [signer, state.selectedLPToken]);\n\n    useAsyncEffect(async () => {\n        if (provider && signer && state.selectedLPToken) {\n            setLoading(true);\n            state.setSelectedLPTokenAllowed(false);\n            try {\n                const minAllowance = ethers.BigNumber.from(2)\n                    .pow(96)\n                    .sub(1);\n                const allowance = await getTokenAllowance(state.selectedLPToken.address, MASTER_CHEF);\n                state.setSelectedLPTokenAllowed(ethers.BigNumber.from(allowance).gte(minAllowance));\n            } finally {\n                setLoading(false);\n            }\n        }\n    }, [provider, signer, state.selectedLPToken]);\n\n    useEffect(() => {\n        state.setAmount(\"\");\n    }, [action]);\n\n    const onDeposit = useCallback(async () => {\n        if (state.selectedLPToken?.id && state.amount && signer) {\n            setDepositing(true);\n            try {\n                const amount = parseBalance(state.amount, state.selectedLPToken.decimals);\n                const tx = await deposit(state.selectedLPToken.id, amount, signer);\n                await tx.wait();\n                state.setSelectedLPToken(undefined);\n                await state.updateLastTimeRefreshed();\n            } finally {\n                setDepositing(false);\n            }\n        }\n    }, [state.selectedLPToken, state.amount, signer]);\n\n    const onWithdraw = useCallback(async () => {\n        if (state.selectedLPToken?.id && state.amount && signer) {\n            setWithdrawing(true);\n            try {\n                const amount = parseBalance(state.amount, state.selectedLPToken.decimals);\n                const tx = await withdraw(state.selectedLPToken.id, amount, signer);\n                await tx.wait();\n                state.setSelectedLPToken(undefined);\n                await state.updateLastTimeRefreshed();\n            } finally {\n                setWithdrawing(false);\n            }\n        }\n    }, [state.selectedLPToken, state.amount, signer]);\n\n    return {\n        ...state,\n        loading: state.loading || loading,\n        filteredBy,\n        setFilteredBy,\n        action,\n        setAction,\n        expectedSushiRewardPerBlock,\n        onDeposit,\n        depositing,\n        onWithdraw,\n        withdrawing\n    };\n};\n\nexport default useFarmingState;\n","import React, { FC, useCallback, useState } from \"react\";\nimport { Image, Platform, TouchableHighlight, View } from \"react-native\";\nimport { Icon } from \"react-native-elements\";\nimport { Hoverable } from \"react-native-web-hover\";\n\nimport { ethers } from \"ethers\";\nimport useAsyncEffect from \"use-async-effect\";\nimport ApproveButton from \"../components/ApproveButton\";\nimport Button from \"../components/Button\";\nimport ButtonGroup from \"../components/ButtonGroup\";\nimport CloseIcon from \"../components/CloseIcon\";\nimport Column from \"../components/Column\";\nimport Container from \"../components/Container\";\nimport Content from \"../components/Content\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport FetchingButton from \"../components/FetchingButton\";\nimport FlexView from \"../components/FlexView\";\nimport Heading from \"../components/Heading\";\nimport InsufficientBalanceButton from \"../components/InsufficientBalanceButton\";\nimport LPTokenSelect, { LPTokenItemProps } from \"../components/LPTokenSelect\";\nimport Meta from \"../components/Meta\";\nimport Notice from \"../components/Notice\";\nimport SelectIcon from \"../components/SelectIcon\";\nimport Text from \"../components/Text\";\nimport TokenInput from \"../components/TokenInput\";\nimport WebFooter from \"../components/web/WebFooter\";\nimport { MASTER_CHEF } from \"../constants/contracts\";\nimport { Spacing } from \"../constants/dimension\";\nimport useColors from \"../hooks/useColors\";\nimport useFarmingState, { Action, FarmingState } from \"../hooks/useFarmingState\";\nimport useLinker from \"../hooks/useLinker\";\nimport LPToken from \"../types/LPToken\";\nimport MetamaskError from \"../types/MetamaskError\";\nimport { formatBalance, isEmptyValue, parseBalance, pow10 } from \"../utils\";\nimport Screen from \"./Screen\";\n\nconst Actions = [\"deposit\", \"withdraw\"];\n\nconst FarmingScreen = () => {\n    return (\n        <Screen>\n            <Container>\n                <Content>\n                    <Farming />\n                    {Platform.OS === \"web\" && <WebFooter />}\n                </Content>\n            </Container>\n        </Screen>\n    );\n};\n\nconst Farming = () => {\n    const state = useFarmingState();\n    const emptyText =\n        state.filteredBy === \"amountDeposited\"\n            ? \"You don't have any pool with deposit.\"\n            : state.filteredBy === \"balance\"\n            ? \"You don't have any pool with balance.\"\n            : \"Temporarily unable to load pools.\";\n    return (\n        <>\n            <Column>\n                <Text h4={true} style={{ textAlign: \"center\", marginBottom: Spacing.normal }}>\n                    🌾 Farming\n                </Text>\n            </Column>\n            <LPTokenSelect\n                state={state}\n                title={\"1. Select a pool for yield farming:\"}\n                emptyText={emptyText}\n                showFilter={!state.selectedLPToken}\n                filter={state.filteredBy}\n                onFilterChanged={state.setFilteredBy}\n                Item={TokenItem}\n            />\n            <ActionSelect state={state} />\n            <Deposit state={state} />\n            <Withdraw state={state} />\n        </>\n    );\n};\n\n// tslint:disable-next-line:max-func-body-length\nconst TokenItem: FC<LPTokenItemProps> = props => {\n    const { background, backgroundLight, textMedium } = useColors();\n    const amount =\n        (props.filter === \"balance\"\n            ? props.token.balance\n            : props.filter === \"amountDeposited\"\n            ? props.token.amountDeposited\n            : props.token.totalDeposited) || \"0\";\n    const onPress = useCallback(() => {\n        props.onSelectToken(props.token);\n    }, [props.onSelectToken, props.token]);\n    const field =\n        props.filter === \"amountDeposited\" ? \"My Deposit\" : props.filter === \"balance\" ? \"My Balance\" : \"Total Deposit\";\n    return (\n        <Hoverable>\n            {({ hovered }) => (\n                <TouchableHighlight onPress={onPress}>\n                    <View style={{ backgroundColor: hovered ? backgroundLight : background }}>\n                        <FlexView style={{ alignItems: \"center\", margin: Spacing.small }}>\n                            <View>\n                                <LogoSymbol token={props.token.tokenA} />\n                                <LogoSymbol token={props.token.tokenB} />\n                            </View>\n                            <View style={{ flex: 1 }}>\n                                <Text style={{ textAlign: \"right\", fontSize: 15 }}>{field}</Text>\n                                <Text light={true} style={{ textAlign: \"right\", fontSize: 22, color: textMedium }}>\n                                    {formatBalance(amount, props.token.decimals, 8)}\n                                </Text>\n                            </View>\n                            {props.selected ? <CloseIcon /> : <SelectIcon />}\n                        </FlexView>\n                    </View>\n                </TouchableHighlight>\n            )}\n        </Hoverable>\n    );\n};\n\nconst LogoSymbol = ({ token }) => {\n    const { textMedium } = useColors();\n    const [isEmpty, setIsEmpty] = useState(false);\n    const source = !token.logoURI || isEmpty ? require(\"../../assets/empty-token.png\") : { uri: token.logoURI };\n    return (\n        <FlexView style={{ alignItems: \"center\", marginBottom: Spacing.tiny }}>\n            <Image\n                source={source}\n                onError={() => setIsEmpty(true)}\n                style={{ width: 24, height: 24, backgroundColor: \"white\", borderRadius: 12 }}\n            />\n            <Text light={true} style={{ fontSize: 22, color: textMedium, marginLeft: Spacing.small }}>\n                {token.symbol.replace(/\\+/g, \"+\\n\")}\n            </Text>\n        </FlexView>\n    );\n};\n\nconst ActionSelect = ({ state }: { state: FarmingState }) => {\n    if (!state.selectedLPToken) {\n        return <Column noTopMargin={true} />;\n    }\n    const index = state.action ? Actions.indexOf(state.action) : null;\n    const onPress = useCallback((i: number) => {\n        state.setAction(Actions[i] as Action);\n    }, []);\n    const balance = formatBalance(state.selectedLPToken!.balance, state.selectedLPToken!.decimals);\n    const deposit = formatBalance(state.selectedLPToken.amountDeposited || \"0\", state.selectedLPToken!.decimals);\n    return (\n        <Column>\n            <Heading text={\"2. Do you want to DEPOSIT or WITHDRAW?\"} />\n            <View style={{ marginHorizontal: Spacing.small, marginBottom: Spacing.normal }}>\n                <Meta label={\"My Balance\"} text={balance} />\n                <Meta label={\"My Deposit\"} text={deposit} />\n            </View>\n            <ButtonGroup\n                selectedIndex={index}\n                onPress={onPress}\n                buttons={[{ element: DepositText }, { element: WithdrawText }]}\n                containerStyle={{ marginHorizontal: Spacing.small }}\n            />\n        </Column>\n    );\n};\n\nconst DepositText = () => {\n    return (\n        <FlexView style={{ alignItems: \"center\" }}>\n            <Text style={{ color: \"black\" }}>Deposit</Text>\n            <Icon\n                type={\"material-community\"}\n                name={\"chevron-right\"}\n                color={\"black\"}\n                style={{ marginLeft: Spacing.tiny, marginTop: 2 }}\n            />\n        </FlexView>\n    );\n};\n\nconst WithdrawText = () => {\n    return (\n        <FlexView style={{ alignItems: \"center\" }}>\n            <Text style={{ color: \"black\" }}>Withdraw</Text>\n            <Icon\n                type={\"material-community\"}\n                name={\"chevron-right\"}\n                color={\"black\"}\n                style={{ marginLeft: Spacing.tiny, marginTop: 2 }}\n            />\n        </FlexView>\n    );\n};\n\nconst Deposit = ({ state }: { state: FarmingState }) => {\n    if (!state.selectedLPToken || state.action !== \"deposit\") {\n        return <Column noTopMargin={true} />;\n    }\n    return (\n        <Column>\n            <AddLiquidityNotice state={state} />\n            <TokenInput\n                title={\"3. Amount of tokens to DEPOSIT:\"}\n                token={state.selectedLPToken}\n                hidden={state.selectedLPToken.balance.isZero()}\n                amount={state.amount}\n                onAmountChanged={state.setAmount}\n            />\n            <DepositInfo state={state} />\n            <DepositControls state={state} />\n        </Column>\n    );\n};\n\nconst AddLiquidityNotice = ({ state }: { state: FarmingState }) => {\n    const { green } = useColors();\n    if (!state.selectedLPToken!.balance.isZero()) {\n        return <Column noTopMargin={true} />;\n    }\n    return (\n        <>\n            <View style={{ marginHorizontal: Spacing.small }}>\n                <Notice\n                    color={green}\n                    text={\n                        \"You need some \" +\n                        state.selectedLPToken!.symbol +\n                        \" token to start farming. Add liquidity to get the LP token.\"\n                    }\n                />\n            </View>\n            <AddLiquidityButton />\n        </>\n    );\n};\n\nconst DepositInfo = ({ state }: { state: FarmingState }) => {\n    if (state.selectedLPToken!.balance.isZero()) {\n        return <Column noTopMargin={true} />;\n    }\n    const balance = formatBalance(state.selectedLPToken!.balance, state.selectedLPToken!.decimals);\n    const sushiReward =\n        state.expectedSushiRewardPerBlock && state.amount\n            ? formatBalance(state.expectedSushiRewardPerBlock.mul(parseBalance(state.amount, 18)).div(pow10(18)), 18)\n            : undefined;\n    return (\n        <Column noTopMargin={true}>\n            <Meta label={\"My Balance\"} text={balance} />\n            {!isEmptyValue(state.amount) && <Meta label={\"SUSHI Reward per Block\"} text={sushiReward} />}\n        </Column>\n    );\n};\n\nconst DepositControls = ({ state }: { state: FarmingState }) => {\n    const [error, setError] = useState<MetamaskError>({});\n    useAsyncEffect(() => setError({}), [state.selectedLPToken]);\n    if (state.selectedLPToken!.balance.isZero()) {\n        return <Column noTopMargin={true} />;\n    }\n    const approveRequired = !state.selectedLPTokenAllowed;\n    const disabled = approveRequired || isEmptyValue(state.amount);\n    return (\n        <Column>\n            {parseBalance(state.amount, state.selectedLPToken!.decimals).gt(state.selectedLPToken!.balance) ? (\n                <InsufficientBalanceButton symbol={state.selectedLPToken!.symbol} />\n            ) : state.loading ? (\n                <FetchingButton />\n            ) : (\n                <>\n                    <ApproveButton\n                        token={state.selectedLPToken!}\n                        spender={MASTER_CHEF}\n                        onSuccess={() => state.setSelectedLPTokenAllowed(true)}\n                        onError={setError}\n                        hidden={isEmptyValue(state.amount) || !approveRequired}\n                    />\n                    <DepositButton state={state} onError={setError} disabled={disabled} />\n                </>\n            )}\n            {error.message && error.code !== 4001 && <ErrorMessage error={error} />}\n        </Column>\n    );\n};\n\nconst AddLiquidityButton = () => {\n    const { green } = useColors();\n    const onPress = useLinker(\"/liquidity\", \"Liquidity\");\n    return (\n        <Button\n            color={green}\n            title={\"Add Liquidity\"}\n            containerStyle={{ marginTop: Spacing.normal }}\n            onPress={onPress}\n        />\n    );\n};\n\nconst DepositButton = ({\n    state,\n    onError,\n    disabled\n}: {\n    state: FarmingState;\n    onError: (e) => void;\n    disabled: boolean;\n}) => {\n    const onPress = useCallback(() => {\n        onError({});\n        state.onDeposit().catch(onError);\n    }, [state.onDeposit, onError]);\n    return <Button title={\"Deposit\"} disabled={disabled} loading={state.depositing} onPress={onPress} />;\n};\n\nconst Withdraw = ({ state }: { state: FarmingState }) => {\n    if (!state.selectedLPToken || state.action !== \"withdraw\") {\n        return <Column noTopMargin={true} />;\n    }\n    const token: LPToken = {\n        ...state.selectedLPToken,\n        balance: state.selectedLPToken.amountDeposited || ethers.constants.Zero\n    };\n    return (\n        <Column>\n            <NoLPTokenNotice state={state} />\n            <TokenInput\n                title={\"3. Amount of tokens to WITHDRAW:\"}\n                token={token}\n                hidden={state.loading || state.selectedLPToken.amountDeposited?.isZero() || false}\n                amount={state.amount}\n                onAmountChanged={state.setAmount}\n            />\n            <WithdrawInfo state={state} />\n            <WithdrawControls state={state} />\n        </Column>\n    );\n};\n\nconst NoLPTokenNotice = ({ state }: { state: FarmingState }) => {\n    if (state.loading || !state.selectedLPToken || !state.selectedLPToken.amountDeposited?.isZero()) {\n        return <Column noTopMargin={true} />;\n    }\n    return (\n        <Column noTopMargin={true}>\n            <View style={{ marginHorizontal: Spacing.small }}>\n                <Notice\n                    text={\"You don't have any \" + state.selectedLPToken!.symbol + \" token deposited. Deposit it first.\"}\n                />\n            </View>\n        </Column>\n    );\n};\n\nconst WithdrawInfo = ({ state }: { state: FarmingState }) => {\n    if (\n        state.loading ||\n        !state.selectedLPToken ||\n        !state.selectedLPToken.amountDeposited ||\n        state.selectedLPToken.amountDeposited?.isZero() ||\n        !state.selectedLPToken.pendingSushi\n    ) {\n        return <Column noTopMargin={true} />;\n    }\n    const deposit = formatBalance(state.selectedLPToken.amountDeposited, state.selectedLPToken!.decimals);\n    const pendingSushi = formatBalance(\n        state.selectedLPToken.pendingSushi || ethers.constants.Zero,\n        state.selectedLPToken!.decimals\n    );\n    return (\n        <Column noTopMargin={true}>\n            <Meta label={\"My Deposit\"} text={deposit} />\n            <Meta label={\"Pending Sushi Reward\"} text={pendingSushi} />\n            <View style={{ marginTop: Spacing.normal, marginHorizontal: Spacing.small }}>\n                <Notice text={\"All pending sushi reward will be transferred to you if you withdraw.\"} />\n            </View>\n        </Column>\n    );\n};\n\nconst WithdrawControls = ({ state }: { state: FarmingState }) => {\n    const [error, setError] = useState<MetamaskError>({});\n    useAsyncEffect(() => setError({}), [state.selectedLPToken]);\n    if (state.loading) {\n        return (\n            <Column>\n                <FetchingButton />\n            </Column>\n        );\n    }\n    if (\n        !state.selectedLPToken ||\n        !state.selectedLPToken.amountDeposited ||\n        state.selectedLPToken.amountDeposited.isZero()\n    ) {\n        return <Column noTopMargin={true} />;\n    }\n    return (\n        <Column>\n            {parseBalance(state.amount, state.selectedLPToken!.decimals).gt(state.selectedLPToken.amountDeposited) ? (\n                <InsufficientBalanceButton symbol={state.selectedLPToken!.symbol} />\n            ) : (\n                <WithdrawButton state={state} onError={setError} disabled={isEmptyValue(state.amount)} />\n            )}\n            {error.message && error.code !== 4001 && <ErrorMessage error={error} />}\n        </Column>\n    );\n};\n\nconst WithdrawButton = ({\n    state,\n    onError,\n    disabled\n}: {\n    state: FarmingState;\n    onError: (e) => void;\n    disabled: boolean;\n}) => {\n    const onPress = useCallback(() => {\n        onError({});\n        state.onWithdraw().catch(onError);\n    }, [state.onWithdraw, onError]);\n    return (\n        <Button size={\"large\"} title={\"Withdraw\"} disabled={disabled} loading={state.withdrawing} onPress={onPress} />\n    );\n};\n\nexport default FarmingScreen;\n"],"sourceRoot":""}