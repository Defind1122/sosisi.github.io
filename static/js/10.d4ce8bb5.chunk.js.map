{"version":3,"sources":["src/components/InfoBox.tsx","src/components/Notice.tsx","src/components/Border.tsx","src/hooks/useLPTokensState.tsx","src/components/LPTokenSelect.tsx","src/hooks/useMigrateState.tsx","src/screens/MigrateScreen.tsx"],"names":["InfoBox","props","darkMode","useContext","GlobalContext","useColors","backgroundLight","borderDark","border","useStyles","style","color","backgroundColor","marginTop","Spacing","normal","small","padding","tiny","Notice","borderStyle","borderColor","clear","paddingHorizontal","note","text","buttonText","onPressButton","title","type","size","fontWeight","onPress","titleStyle","buttonStyle","paddingVertical","alignSelf","Border","height","width","marginBottom","useLPTokensState","mode","state","useTokenPairState","EthersContext","provider","address","tokens","useState","lastTimeRefreshed","setLastTimeRefreshed","loading","setLoading","lpTokens","setLPTokens","selectedLPToken","setSelectedLPToken","selectedLPTokenAllowed","setSelectedLPTokenAllowed","pair","setPair","amount","setAmount","getPair","useSDK","updateLPTokens","a","async","fetchPools","fetchMyLPTokens","fetchMyUniswapLPTokens","data","useEffect","useAsyncEffect","undefined","tokenA","tokenB","useDelayedOnBlockEffect","block","length","fromToken","toToken","updateLastTimeRefreshed","Date","now","LPTokenList","emptyText","filter","Item","renderItem","useCallback","item","key","token","selected","onSelectToken","sort","t1","t2","totalDeposited","ethers","constants","Zero","sub","div","pow10","toNumber","amountDeposited","gt","balance","Loading","FlatList","keyExtractor","EmptyList","View","margin","Text","disabled","textAlign","LPTokenItem","textMedium","formatBalance","decimals","Selectable","containerStyle","ITEM_SEPARATOR_HEIGHT","FlexView","alignItems","TokenLogo","replaceWETH","marginLeft","medium","caption","symbol","flex","light","LPTokenSelect","Expandable","expanded","onExpand","useMigrateState","ethereum","signer","getTokenAllowance","updateTokens","migrate","migrateWithPermit","setMode","migrating","setMigrating","isWalletConnect","minAllowance","BigNumber","from","pow","SUSHI_ROLL","allowance","gte","onMigrate","parseBalance","func","tx","wait","Fetcher","fetchPairData","convertToken","window","open","liquidityToken","Migrate","large","MigrateModeSelect","selectable","MigrateModeItem","desc","UniswapLiquidityScreen","Heading","AmountInput","TokenInput","onAmountChanged","AmountInfo","isEmptyValue","Meta","label","Controls","error","setError","onError","InsufficientBalanceButton","FetchingButton","ApproveButton","spender","onSuccess","message","code","ErrorMessage","MigrateButton","Button","MigrateScreen","Screen","Container","BackgroundImage","Content","Title","Platform","OS","WebFooter"],"mappings":"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","file":"static/js/10.d4ce8bb5.chunk.js","sourcesContent":["import React, { PropsWithChildren, useContext } from \"react\";\nimport { View, ViewProps } from \"react-native\";\n\nimport { Spacing } from \"../constants/dimension\";\nimport { GlobalContext } from \"../context/GlobalContext\";\nimport useColors from \"../hooks/useColors\";\nimport useStyles from \"../hooks/useStyles\";\n\nconst InfoBox = (props: PropsWithChildren<ViewProps>) => {\n    const { darkMode } = useContext(GlobalContext);\n    const { backgroundLight, borderDark } = useColors();\n    const { border } = useStyles();\n    return (\n        <View\n            {...props}\n            style={[\n                {\n                    ...border({ color: darkMode ? borderDark : backgroundLight }),\n                    backgroundColor: backgroundLight,\n                    marginTop: Spacing.normal + Spacing.small,\n                    padding: Spacing.small + Spacing.tiny\n                },\n                props.style\n            ]}\n        />\n    );\n};\n\nexport default InfoBox;\n","import React from \"react\";\nimport { View, ViewStyle } from \"react-native\";\n\nimport { Spacing } from \"../constants/dimension\";\nimport useStyles from \"../hooks/useStyles\";\nimport Button from \"./Button\";\nimport Text from \"./Text\";\n\nexport interface NoticeProps {\n    text: string;\n    clear?: boolean;\n    color?: string;\n    buttonText?: string;\n    onPressButton?: () => void;\n    style?: ViewStyle;\n}\n\nconst Notice = (props: NoticeProps) => {\n    const { border } = useStyles();\n    const borderStyle = border({ color: props.color });\n    const color = props.color || borderStyle.borderColor;\n    return (\n        <View style={[props.clear ? { paddingHorizontal: Spacing.tiny } : borderStyle, props.style]}>\n            <Text\n                note={true}\n                style={{\n                    color\n                }}>\n                {props.text}\n            </Text>\n            {props.buttonText && props.onPressButton && (\n                <Button\n                    title={props.buttonText}\n                    type={\"clear\"}\n                    size={\"small\"}\n                    fontWeight={\"bold\"}\n                    onPress={props.onPressButton}\n                    titleStyle={{ color }}\n                    buttonStyle={{ paddingHorizontal: 0, paddingVertical: 0 }}\n                    style={{ alignSelf: \"flex-end\", marginTop: Spacing.tiny }}\n                />\n            )}\n        </View>\n    );\n};\n\nexport default Notice;\n","import React from \"react\";\nimport { View } from \"react-native\";\n\nimport { Spacing } from \"../constants/dimension\";\nimport useColors from \"../hooks/useColors\";\n\nconst Border = () => {\n    const { border } = useColors();\n    return (\n        <View\n            style={{\n                height: 1,\n                width: \"100%\",\n                backgroundColor: border,\n                marginTop: Spacing.small,\n                marginBottom: Spacing.small + Spacing.tiny\n            }}\n        />\n    );\n};\n\nexport default Border;\n","import { useContext, useEffect, useState } from \"react\";\n\nimport { Pair } from \"@sushiswap/sdk\";\nimport useAsyncEffect from \"use-async-effect\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport LPToken from \"../types/LPToken\";\nimport { fetchMyLPTokens, fetchMyUniswapLPTokens, fetchPools } from \"../utils/fetch-utils\";\nimport useDelayedOnBlockEffect from \"./useDelayedOnBlockEffect\";\nimport useSDK from \"./useSDK\";\nimport useTokenPairState, { TokenPairState } from \"./useTokenPairState\";\n\nexport interface LPTokensState extends TokenPairState {\n    updateLPTokens: () => Promise<void>;\n    lastTimeRefreshed: number;\n    updateLastTimeRefreshed: () => void;\n    lpTokens: LPToken[];\n    selectedLPToken?: LPToken;\n    setSelectedLPToken: (token?: LPToken) => void;\n    selectedLPTokenAllowed: boolean;\n    setSelectedLPTokenAllowed: (allowed: boolean) => void;\n    pair?: Pair;\n    amount: string;\n    setAmount: (amount: string) => void;\n}\n\ntype Mode = \"pools\" | \"my-lp-tokens\" | \"my-uniswap-lp-tokens\";\n\n// tslint:disable-next-line:max-func-body-length\nconst useLPTokensState: (mode: Mode) => LPTokensState = mode => {\n    const state = useTokenPairState();\n    const { provider, address, tokens } = useContext(EthersContext);\n    const [lastTimeRefreshed, setLastTimeRefreshed] = useState(0);\n    const [loading, setLoading] = useState(true);\n    const [lpTokens, setLPTokens] = useState<LPToken[]>([]);\n    const [selectedLPToken, setSelectedLPToken] = useState<LPToken>();\n    const [selectedLPTokenAllowed, setSelectedLPTokenAllowed] = useState(false);\n    const [pair, setPair] = useState<Pair>();\n    const [amount, setAmount] = useState(\"\");\n    const { getPair } = useSDK();\n\n    const updateLPTokens = async () => {\n        if (address && provider) {\n            try {\n                const data = await (mode === \"pools\"\n                    ? fetchPools(address, provider)\n                    : mode === \"my-lp-tokens\"\n                    ? fetchMyLPTokens(address, tokens, provider)\n                    : fetchMyUniswapLPTokens(address, tokens, provider));\n                if (data) {\n                    setLPTokens(data);\n                }\n            } finally {\n                setLoading(false);\n            }\n        }\n    };\n\n    useEffect(() => {\n        if (!selectedLPToken) {\n            setAmount(\"\");\n        }\n    }, [selectedLPToken]);\n\n    useAsyncEffect(async () => {\n        setLoading(true);\n        setPair(undefined);\n        if (selectedLPToken && provider) {\n            try {\n                setPair(await getPair(selectedLPToken.tokenA, selectedLPToken.tokenB, provider));\n            } catch (e) {\n            } finally {\n                setLoading(false);\n            }\n        } else {\n            setLoading(false);\n        }\n    }, [selectedLPToken, provider]);\n\n    useDelayedOnBlockEffect(\n        async block => {\n            if (address && (mode === \"pools\" || tokens.length > 0)) {\n                if (!block) {\n                    setLoading(true);\n                }\n                await updateLPTokens();\n            }\n        },\n        () => \"updateLPTokens()\",\n        [tokens.length, address, lastTimeRefreshed],\n        0\n    );\n\n    return {\n        ...state,\n        fromToken: state.fromToken || selectedLPToken?.tokenA,\n        toToken: state.toToken || selectedLPToken?.tokenB,\n        updateLPTokens,\n        loading: state.loading || loading,\n        lastTimeRefreshed,\n        updateLastTimeRefreshed: () => {\n            setLastTimeRefreshed(Date.now());\n        },\n        lpTokens,\n        selectedLPToken,\n        setSelectedLPToken,\n        selectedLPTokenAllowed,\n        setSelectedLPTokenAllowed,\n        pair,\n        amount,\n        setAmount\n    };\n};\n\nexport default useLPTokensState;\n","import React, { FC, useCallback } from \"react\";\nimport { FlatList, View, ViewStyle } from \"react-native\";\n\nimport { ethers } from \"ethers\";\nimport { Spacing } from \"../constants/dimension\";\nimport useColors from \"../hooks/useColors\";\nimport { LPTokensState } from \"../hooks/useLPTokensState\";\nimport LPToken from \"../types/LPToken\";\nimport { formatBalance, pow10 } from \"../utils\";\nimport CheckBox from \"./CheckBox\";\nimport Expandable from \"./Expandable\";\nimport FlexView from \"./FlexView\";\nimport { ITEM_SEPARATOR_HEIGHT } from \"./ItemSeparator\";\nimport Loading from \"./Loading\";\nimport Selectable from \"./Selectable\";\nimport Text from \"./Text\";\nimport TokenLogo from \"./TokenLogo\";\n\nexport type LPTokenSelectFilter = \"balance\" | \"amountDeposited\" | \"\";\n\nexport interface LPTokenSelectProps {\n    state: LPTokensState;\n    title: string;\n    emptyText: string;\n    showFilter?: boolean;\n    filter?: LPTokenSelectFilter;\n    onFilterChanged?: (filter: LPTokenSelectFilter) => void;\n    Item: FC<LPTokenItemProps>;\n    style?: ViewStyle;\n}\n\nexport interface LPTokenItemProps {\n    token: LPToken;\n    selected: boolean;\n    filter?: LPTokenSelectFilter;\n    onSelectToken: (token: LPToken) => void;\n}\n\nconst LPTokenSelect: FC<LPTokenSelectProps> = props => {\n    const onUnselectToken = () => props.state.setSelectedLPToken();\n    return (\n        <View style={props.style}>\n            <Expandable\n                title={props.title}\n                expanded={!props.state.selectedLPToken}\n                onExpand={() => props.state.setSelectedLPToken()}>\n                <LPTokenList state={props.state} filter={props.filter} emptyText={props.emptyText} Item={props.Item} />\n            </Expandable>\n            {props.state.selectedLPToken && (\n                <LPTokenItem token={props.state.selectedLPToken} selected={true} onSelectToken={onUnselectToken} />\n            )}\n        </View>\n    );\n};\n\nconst Filter = ({ filter, onFilterChanged }) => {\n    const handler = (f: string) => () => onFilterChanged(f);\n    return (\n        <FlexView style={{ width: \"100%\", justifyContent: \"flex-end\" }}>\n            <CheckBox checked={filter === \"balance\"} onPress={handler(\"balance\")} title={\"with balance\"} />\n            <CheckBox\n                checked={filter === \"amountDeposited\"}\n                onPress={handler(\"amountDeposited\")}\n                title={\"with deposit\"}\n            />\n            <CheckBox checked={!filter} onPress={handler(\"\")} title={\"all\"} />\n        </FlexView>\n    );\n};\n\n// tslint:disable-next-line:max-func-body-length\nconst LPTokenList = ({\n    state,\n    emptyText,\n    filter,\n    Item\n}: {\n    state: LPTokensState;\n    emptyText: string;\n    filter?: LPTokenSelectFilter;\n    Item: FC<LPTokenItemProps>;\n}) => {\n    const renderItem = useCallback(\n        ({ item }) => {\n            return (\n                <Item\n                    key={item.address}\n                    token={item}\n                    selected={false}\n                    filter={filter}\n                    onSelectToken={state.setSelectedLPToken}\n                />\n            );\n        },\n        [filter, state.setSelectedLPToken]\n    );\n    let data = state.lpTokens.sort((t1, t2) => {\n        return (t2.totalDeposited || ethers.constants.Zero)\n            .sub(t1.totalDeposited || ethers.constants.Zero)\n            .div(pow10(14))\n            .toNumber();\n    });\n    if (filter === \"amountDeposited\") {\n        data = data.filter(token => token.amountDeposited?.gt(0));\n    } else if (filter === \"balance\") {\n        data = data.filter(token => token.balance.gt(0));\n    }\n    return state.loading ? (\n        <Loading />\n    ) : data.length === 0 ? (\n        <EmptyList text={emptyText} />\n    ) : (\n        <FlatList keyExtractor={item => item.address} data={data} renderItem={renderItem} />\n    );\n};\n\nconst EmptyList = ({ text }: { text: string }) => {\n    return (\n        <View style={{ margin: Spacing.normal }}>\n            <Text disabled={true} style={{ textAlign: \"center\", width: \"100%\" }}>\n                {text}\n            </Text>\n        </View>\n    );\n};\n\nexport const LPTokenItem: FC<LPTokenItemProps> = props => {\n    const { textMedium } = useColors();\n    const balance = formatBalance(props.token.balance, props.token.decimals, 8);\n    const onPress = useCallback(() => {\n        props.onSelectToken(props.token);\n    }, [props.onSelectToken, props.token]);\n    return (\n        <Selectable\n            selected={props.selected}\n            onPress={onPress}\n            containerStyle={{ marginBottom: ITEM_SEPARATOR_HEIGHT }}>\n            <FlexView style={{ alignItems: \"center\" }}>\n                <TokenLogo token={props.token.tokenA} small={true} replaceWETH={true} />\n                <TokenLogo token={props.token.tokenB} small={true} replaceWETH={true} style={{ marginLeft: 4 }} />\n                <Text medium={true} caption={true} style={{ marginLeft: Spacing.tiny }}>\n                    {props.token.tokenA.symbol}-{props.token.tokenB.symbol}\n                </Text>\n                <View style={{ flex: 1, marginLeft: Spacing.tiny }}>\n                    {/*<Text note={true} style={{ textAlign: \"right\", color: textLight }}>*/}\n                    {/*    My Balance*/}\n                    {/*</Text>*/}\n                    <Text caption={true} light={true} style={{ textAlign: \"right\", color: textMedium }}>\n                        {balance}\n                    </Text>\n                </View>\n            </FlexView>\n        </Selectable>\n    );\n};\n\nexport default LPTokenSelect;\n","import { useCallback, useContext, useEffect, useState } from \"react\";\n\nimport { Fetcher } from \"@sushiswap/sdk\";\nimport { ethers } from \"ethers\";\nimport useAsyncEffect from \"use-async-effect\";\nimport { SUSHI_ROLL } from \"../constants/contracts\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport { convertToken, parseBalance } from \"../utils\";\nimport useLPTokensState, { LPTokensState } from \"./useLPTokensState\";\nimport useSDK from \"./useSDK\";\n\nexport type MigrateMode = \"permit\" | \"approve\";\n\nexport interface MigrateState extends LPTokensState {\n    mode?: MigrateMode;\n    setMode: (_mode?: MigrateMode) => void;\n    onMigrate: () => Promise<void>;\n    migrating: boolean;\n}\n\n// tslint:disable-next-line:max-func-body-length\nconst useMigrateState: () => MigrateState = () => {\n    const { ethereum } = useContext(EthersContext);\n    const state = useLPTokensState(\"my-uniswap-lp-tokens\");\n    const { provider, signer, getTokenAllowance, updateTokens } = useContext(EthersContext);\n    const { migrate, migrateWithPermit } = useSDK();\n    const [loading, setLoading] = useState(false);\n    const [mode, setMode] = useState<MigrateMode>();\n    const [migrating, setMigrating] = useState(false);\n\n    useEffect(() => {\n        if (ethereum?.isWalletConnect) {\n            setMode(\"approve\");\n        } else {\n            setMode(undefined);\n        }\n    }, [ethereum]);\n\n    useEffect(() => {\n        state.setSelectedLPToken();\n    }, [mode]);\n\n    useAsyncEffect(async () => {\n        if (provider && signer && state.selectedLPToken) {\n            setLoading(true);\n            state.setSelectedLPTokenAllowed(false);\n            try {\n                const minAllowance = ethers.BigNumber.from(2)\n                    .pow(96)\n                    .sub(1);\n                const allowance = await getTokenAllowance(state.selectedLPToken.address, SUSHI_ROLL);\n                state.setSelectedLPTokenAllowed(ethers.BigNumber.from(allowance).gte(minAllowance));\n            } finally {\n                setLoading(false);\n            }\n        }\n    }, [provider, signer, state.selectedLPToken]);\n\n    const onMigrate = useCallback(async () => {\n        if (mode && state.selectedLPToken && state.amount && provider && signer) {\n            setMigrating(true);\n            try {\n                const amount = parseBalance(state.amount, state.selectedLPToken.decimals);\n                const func = mode === \"approve\" ? migrate : migrateWithPermit;\n                const tx = await func(state.selectedLPToken, amount, signer);\n                await tx.wait();\n                await updateTokens();\n                await state.updateLPTokens();\n                state.setSelectedLPToken(undefined);\n\n                const pair = await Fetcher.fetchPairData(\n                    convertToken(state.selectedLPToken.tokenA),\n                    convertToken(state.selectedLPToken.tokenB),\n                    provider\n                );\n                window.open(\"https://sushiswap.fi/pair/\" + pair.liquidityToken.address, \"_blank\");\n            } finally {\n                setMigrating(false);\n            }\n        }\n    }, [mode, state.selectedLPToken, state.amount, provider, signer, migrateWithPermit, updateTokens]);\n\n    return {\n        ...state,\n        loading: state.loading || loading,\n        mode,\n        setMode,\n        onMigrate,\n        migrating\n    };\n};\n\nexport default useMigrateState;\n","import React, { useContext, useState } from \"react\";\nimport { Platform, View } from \"react-native\";\n\nimport useAsyncEffect from \"use-async-effect\";\nimport ApproveButton from \"../components/ApproveButton\";\nimport BackgroundImage from \"../components/BackgroundImage\";\nimport Border from \"../components/Border\";\nimport Button from \"../components/Button\";\nimport Container from \"../components/Container\";\nimport Content from \"../components/Content\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport Expandable from \"../components/Expandable\";\nimport FetchingButton from \"../components/FetchingButton\";\nimport Heading from \"../components/Heading\";\nimport InfoBox from \"../components/InfoBox\";\nimport InsufficientBalanceButton from \"../components/InsufficientBalanceButton\";\nimport { ITEM_SEPARATOR_HEIGHT } from \"../components/ItemSeparator\";\nimport LPTokenSelect, { LPTokenItem } from \"../components/LPTokenSelect\";\nimport Meta from \"../components/Meta\";\nimport Notice from \"../components/Notice\";\nimport Selectable from \"../components/Selectable\";\nimport Text from \"../components/Text\";\nimport Title from \"../components/Title\";\nimport TokenInput from \"../components/TokenInput\";\nimport WebFooter from \"../components/web/WebFooter\";\nimport { MigrateSubMenu } from \"../components/web/WebSubMenu\";\nimport { SUSHI_ROLL } from \"../constants/contracts\";\nimport { Spacing } from \"../constants/dimension\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport useMigrateState, { MigrateMode, MigrateState } from \"../hooks/useMigrateState\";\nimport MetamaskError from \"../types/MetamaskError\";\nimport { isEmptyValue, parseBalance } from \"../utils\";\nimport Screen from \"./Screen\";\n\nconst MigrateScreen = () => {\n    return (\n        <Screen>\n            <Container>\n                <BackgroundImage />\n                <Content>\n                    <Title text={\"Migrate Liquidity\"} />\n                    <Text light={true}>Migrate your Uniswap LP tokens to SushiSwap LP tokens.</Text>\n                    <Migrate />\n                </Content>\n                {Platform.OS === \"web\" && <WebFooter />}\n            </Container>\n            <MigrateSubMenu />\n        </Screen>\n    );\n};\n\nconst Migrate = () => {\n    const { ethereum } = useContext(EthersContext);\n    const state = useMigrateState();\n    return (\n        <View style={{ marginTop: Spacing.large }}>\n            {!ethereum?.isWalletConnect && (\n                <>\n                    <MigrateModeSelect state={state} />\n                    <Border />\n                </>\n            )}\n            <UniswapLiquidityScreen state={state} />\n            <Border />\n            <AmountInput state={state} />\n            <Border />\n            <AmountInfo state={state} />\n            <Notice\n                text={\n                    \"☘️ You'll be redirected to the pair page after the migration finishes.\\n\" +\n                    \"Start earning additional income with 'Stake' on that page.\"\n                }\n                clear={true}\n                style={{ marginTop: Spacing.normal }}\n            />\n        </View>\n    );\n};\n\nconst MigrateModeSelect = ({ state }: { state: MigrateState }) => {\n    return (\n        <View>\n            <Expandable title={\"Wallet Type\"} expanded={!state.mode} onExpand={() => state.setMode()}>\n                <MigrateModeItem state={state} mode={\"permit\"} />\n                <MigrateModeItem state={state} mode={\"approve\"} />\n            </Expandable>\n            {state.mode && <MigrateModeItem state={state} mode={state.mode} selectable={true} />}\n        </View>\n    );\n};\n\nconst MigrateModeItem = ({\n    state,\n    mode,\n    selectable\n}: {\n    state: MigrateState;\n    mode: MigrateMode;\n    selectable?: boolean;\n}) => {\n    const selected = state.mode === mode;\n    const type = mode === \"permit\" ? \"Non-hardware Wallet\" : \"Hardware Wallet (Trezor, Ledger, etc.)\";\n    const desc =\n        mode === \"permit\"\n            ? \"Migration in done in one-click using your signature(permit).\"\n            : \"You need to first approve LP tokens and then migrate it.\";\n    const onPress = () => state.setMode(state.mode === mode ? undefined : mode);\n    return (\n        <Selectable\n            containerStyle={{ marginBottom: ITEM_SEPARATOR_HEIGHT }}\n            style={{\n                paddingHorizontal: Spacing.small + Spacing.tiny\n            }}\n            selected={selected}\n            disabled={selectable}\n            onPress={onPress}>\n            <Text fontWeight={\"regular\"}>{type}</Text>\n            <Text note={true}>{desc}</Text>\n        </Selectable>\n    );\n};\n\nconst UniswapLiquidityScreen = ({ state }: { state: MigrateState }) => {\n    if (!state.mode) {\n        return <Heading text={\"Your Uniswap Liquidity\"} disabled={true} />;\n    }\n    return (\n        <LPTokenSelect\n            state={state}\n            title={\"Your Uniswap Liquidity\"}\n            emptyText={\"You don't have any liquidity on Uniswap.\"}\n            Item={LPTokenItem}\n        />\n    );\n};\n\nconst AmountInput = ({ state }: { state: MigrateState }) => {\n    if (!state.selectedLPToken) {\n        return <Heading text={\"Amount of Tokens\"} disabled={true} />;\n    }\n    return (\n        <TokenInput\n            title={\"Amount of Tokens\"}\n            token={state.selectedLPToken}\n            amount={state.amount}\n            onAmountChanged={state.setAmount}\n        />\n    );\n};\n\nconst AmountInfo = ({ state }: { state: MigrateState }) => {\n    const disabled = !state.selectedLPToken || isEmptyValue(state.amount);\n    return (\n        <InfoBox>\n            <Meta label={state.selectedLPToken?.symbol || \"SushiSwap LP\"} text={state.amount} disabled={disabled} />\n            <Controls state={state} />\n        </InfoBox>\n    );\n};\n\nconst Controls = ({ state }: { state: MigrateState }) => {\n    const [error, setError] = useState<MetamaskError>({});\n    useAsyncEffect(() => setError({}), [state.amount]);\n    return (\n        <View style={{ marginTop: Spacing.normal }}>\n            {!state.selectedLPToken || isEmptyValue(state.amount) ? (\n                <MigrateButton state={state} onError={setError} disabled={true} />\n            ) : parseBalance(state.amount, state.selectedLPToken.decimals).gt(state.selectedLPToken.balance) ? (\n                <InsufficientBalanceButton symbol={state.selectedLPToken.symbol} />\n            ) : state.loading ? (\n                <FetchingButton />\n            ) : (\n                <>\n                    {state.mode === \"approve\" && !state.selectedLPTokenAllowed && (\n                        <ApproveButton\n                            token={state.selectedLPToken}\n                            spender={SUSHI_ROLL}\n                            onSuccess={() => state.setSelectedLPTokenAllowed(true)}\n                            onError={setError}\n                        />\n                    )}\n                    <MigrateButton\n                        state={state}\n                        onError={setError}\n                        disabled={state.mode === \"approve\" && !state.selectedLPTokenAllowed}\n                    />\n                </>\n            )}\n            {error.message && error.code !== 4001 && <ErrorMessage error={error} />}\n        </View>\n    );\n};\n\nconst MigrateButton = ({\n    state,\n    onError,\n    disabled\n}: {\n    state: MigrateState;\n    onError: (e) => void;\n    disabled: boolean;\n}) => {\n    const onPress = async () => {\n        onError({});\n        try {\n            await state.onMigrate();\n        } catch (e) {\n            onError(e);\n        }\n    };\n    return <Button title={\"Migrate Liquidity\"} loading={state.migrating} onPress={onPress} disabled={disabled} />;\n};\n\nexport default MigrateScreen;\n"],"sourceRoot":""}